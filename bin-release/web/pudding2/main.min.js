var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isLoadRes=null,e.isFirstOpen=!0,e.classId=gAutoId.id,e.className=e.__proto__.__class__.split(".")[1],e.isFirstOpen=!0,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.init.apply(this,t),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),GameMgr.gameview.addEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),this._rotateView(),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),GameMgr.gameview.addEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},e.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},e.prototype.end=function(){this.isLoadRes=!1,GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.stop()},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.destroy=function(t){GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeView,this),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this.rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.isFirstOpen=!1,t?gComMgr.fadeOutDestory(this):gComMgr.destory(this)},e.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},e.prototype.createParticles=function(t,e,i,o,a,r,n){return void 0===a&&(a=!0),void 0===r&&(r=0),void 0===n&&(n=0),this.particleMgr||(this.particleMgr=new util.ParticleMgr(this)),this.particleMgr.createParticles(t,e,i,o,a,r,n)},e.prototype.getParticle=function(t){return this.particleMgr?this.particleMgr.getParticle(t):void 0},e.prototype.startParticles=function(t){this.particleMgr&&this.particleMgr.startParticles(t)},e.prototype.startParticle=function(t,e){this.particleMgr&&this.particleMgr.startParticle(t,e)},e.prototype.stopParticles=function(t){this.particleMgr&&this.particleMgr.stopParticles(t)},e.prototype.stopParticle=function(t,e){this.particleMgr&&this.particleMgr.stopParticle(t,e)},e.prototype.setParticlesIndex=function(t){this.particleMgr&&this.particleMgr.setParticlesIndex(t)},e.prototype.updataParticlesEmitter=function(){this.particleMgr&&this.particleMgr.updataParticlesEmitter()},e.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.particleMgr&&this.particleMgr.setParticlesPos(t,e)},e.prototype.setMaxParticles=function(t,e){this.particleMgr&&this.particleMgr.setMaxParticles(t,e)},e.prototype.showStar=function(t,e,i){this.starMgr||(this.starMgr=new util.StarMgr(t)),this.starMgr.show(e,i)},e.prototype.updateStarData=function(t,e){this.starMgr&&this.starMgr.updateData(t,e)},e.prototype.hideStar=function(t){void 0===t&&(t=!0),this.starMgr&&this.starMgr.hide(t)},e.prototype.showFloat=function(t,e){this.floatMgr||(this.floatMgr=new util.FloatMgr(t)),this.floatMgr.show(e)},e.prototype.updateFloatData=function(t){this.floatMgr&&this.floatMgr.updateData(t)},e.prototype.hideFloat=function(t){void 0===t&&(t=!0),this.floatMgr&&this.floatMgr.hide(t)},e.prototype._resizeView=function(t){this.resizeView(t),this.updataParticlesEmitter()},e.prototype._rotateView=function(t){this.rotateView(t)},e}(eui.Component);t.ComFileBase=e,__reflect(e.prototype,"com.ComFileBase")}(com||(com={}));var gConst;!function(t){t.eventType={GAME_READY:"gameReady",GAME_START:"gameStart",GAME_RETRY:"gameRetry",GAME_END:"gameEnd",GAME_CLOSE:"gameClose",INSTALL:"install",RESIZE_VIEW:"resizeView",ROTATE_VIEW:"rotateView",GUIDE_TOUCH_ONE:"guideTouchOne",GUIDE_STOP:"guideStop",IN_COMPLETE:"inComplete",IN_LOOP_COMPLETE:"inLoopComplete",OUT_COMPLETE:"outComplete",OUT_LOOP_COMPLETE:"outLoopComplete",CHOOSE_COMPLETE:"chooseComplete",CHOOSE_LOOP_COMPLETE:"chooseLoopComplete",ONE_STEP_COMPLETE:"oneStepComplete",ONE_STEP_FAIL:"oneStepFail",ONCE_COMPLETE:"onceComplete",ONCE_FAIL:"onceFail",ALL_COMPLETE:"allComplete",ALL_FAIL:"allFail",USE_UP:"useUp",TOUCH_TAP:"touchTap",TOUCH_BEGIN:"touchBegin",TOUCH_MOVE:"touchMove",TOUCH_END:"touchEnd",RIGHT_ANSWER:"rightAnswer",SHOW_GUIDE:"showGuide",HIDE_GUIDE:"hideGuide",OPEN_TRAN:"openTran",CLOSE_TRAN:"closeTran",OPEN_END:"openEnd",CLOSE_END:"closeEnd",OPEN_PEOPLE:"openPeople",CLOSE_PEOPLE:"closePeople",SHOW_BLACK:"showBlack",HIDE_BLACK:"hideBlack",SHOW_SCENE0:"showScene0",HIDE_SCENE0:"hideScene0",SHOW_SCENE1:"showScene1",HIDE_SCENE1:"hideScene1",SHOW_SCENE2:"showScene2",HIDE_SCENE2:"hideScene2",CLOSE:"close",REMOVE_OBJ:"removeObj",CLICK_OBJ:"clickObj",SHOW_CURTAIN_FULL:"showCurtainFull",SHOW_CAR_START:"showCarStart",FEED_COMPLETE:"feedComplete",BAR_COVER_IN_GIRL:"barCoverInGirl",SHOW_ITEMS:"showItems",ADD_PATTERN:"addPattern",UPDATE_GOLD:"updateGold",LV_TO_MAX:"lvToMax",START_PARTILCLE:"startPartilcle",START_PLAY_KEY:"startPlayKey",MOVE_KEY:"moveKey"},t.direction={CENTER_CENTER:"centerCenter",LEFT_TOP:"leftTop",CENTER_TOP:"centerTop",RIGHT_TOP:"rightTop",RIGHT_CENTER:"rightCenter",RIGHT_BOTTOM:"rightBottom",CENTER_BOTTOM:"centerBottom",LEFT_BOTTOM:"leftBottom",LEFT_CENTER:"leftCenter"},t.mobileByScale=(e={},e[1]=(i={},i[1]=1,i[2]=1,i[3]=.8,i),e[0]=(o={},o[1]=1,o[2]=1,o[3]=.8,o),e),t.itemIdByName={1:"pork",2:"fish",3:"fruit",4:"bakery",5:"clothing"},t.cellSkin=(a={},a[1]="Red",a[2]="Yellow",a[3]="Green",a[4]="Blue",a),t.cellName=(r={},r[1]="red",r[2]="yellow",r[3]="green",r[4]="blue",r),t.cellColor=(n={},n[1]=16732252,n[2]=16764516,n[3]=6540929,n[4]=7244989,n),t.peopleFaceName=(s={},s[11]="smile",s[12]="happy",s[13]="sleepy",s[14]="angry",s),t.stateName=(h={},h[0]="idle",h[1]="dropDown",h[2]="walk",h[3]="stand",h[4]="die",h[5]="shot",h),t.itemIdByType=(c={},c[0]="start",c[1]="a",c[2]="b",c[3]="c",c[4]="end",c),t.movePoint={boyInitPoint:{x:-311,y:659},boyStartPoint:{x:188,y:659},boyLampPoint1:{x:526,y:433},boyLampPoint2:{x:526,y:357}};var e,i,o,a,r,n,s,h,c}(gConst||(gConst={}));var ui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isUiFirstLimit=!0,t.isLoadRes=null,t.isFirstOpen=!0,t.screenType=null,t.mobileType=null,t.classId=gAutoId.id,t.isFirstOpen=!0,t}return __extends(i,e),i.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this.className===gDevelop.classToString(t.UiFirst))GameMgr.gameview.addChild(this);else{var o=gUiMgr.get(t.UiFirst);if(o&&o.parent&&this.isUiFirstLimit){var a=GameMgr.gameview.getChildIndex(o);this.parent===GameMgr.gameview&&(a--,a=Math.max(a,0)),GameMgr.gameview.addChildAt(this,a)}else GameMgr.gameview.addChild(this)}this.init.apply(this,e),this.isFirstOpen&&this._initResizeView(),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),GameMgr.stage.addEventListener(egret.Event.RESIZE,this._resizeView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},i.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},i.prototype.end=function(){this.isLoadRes=!1,GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.stop()},i.prototype.show=function(){this.visible=!0},i.prototype.hide=function(){this.visible=!1},i.prototype.destroy=function(t){var e=gUiMgr.getByClassName(this.className);e&&(e.removeEventListener(egret.Event.ENTER_FRAME,e.update,e),e.removeEvent(),t?gComMgr.fadeOutDestory(e):e=gComMgr.destory(e),gUiMgr.destroy(this.className),this.isLoadRes=null)},i.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},i.prototype.clickReplay=function(t){t.stopPropagation(),GameMgr.replay()},i.prototype.gameEnd=function(){Mapi.gameEnd()},i.prototype.createParticles=function(t,e,i,o,a,r,n){return void 0===a&&(a=!0),void 0===r&&(r=0),void 0===n&&(n=0),this.particleMgr||(this.particleMgr=new util.ParticleMgr(this)),this.particleMgr.createParticles(t,e,i,o,a,r,n)},i.prototype.getParticle=function(t){return this.particleMgr?this.particleMgr.getParticle(t):void 0},i.prototype.startParticles=function(t){this.particleMgr&&this.particleMgr.startParticles(t)},i.prototype.startParticle=function(t,e){this.particleMgr&&this.particleMgr.startParticle(t,e)},i.prototype.stopParticles=function(t){this.particleMgr&&this.particleMgr.stopParticles(t)},i.prototype.stopParticle=function(t,e){this.particleMgr&&this.particleMgr.stopParticle(t,e)},i.prototype.setParticlesIndex=function(t){this.particleMgr&&this.particleMgr.setParticlesIndex(t)},i.prototype.updataParticlesEmitter=function(){this.particleMgr&&this.particleMgr.updataParticlesEmitter()},i.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.particleMgr&&this.particleMgr.setParticlesPos(t,e)},i.prototype.setMaxParticles=function(t,e){this.particleMgr&&this.particleMgr.setMaxParticles(t,e)},i.prototype.showStar=function(t,e,i){this.starMgr||(this.starMgr=new util.StarMgr(t)),this.starMgr.show(e,i)},i.prototype.updateStarData=function(t,e){this.starMgr&&this.starMgr.updateData(t,e)},i.prototype.hideStar=function(t){void 0===t&&(t=!0),this.starMgr&&this.starMgr.hide(t)},i.prototype.showFloat=function(t,e){this.floatMgr||(this.floatMgr=new util.FloatMgr(t)),this.floatMgr.show(e)},i.prototype.updateFloatData=function(t){this.floatMgr&&this.floatMgr.updateData(t)},i.prototype.hideFloat=function(t){void 0===t&&(t=!0),this.floatMgr&&this.floatMgr.hide(t)},i.prototype._initResizeView=function(){var t,e,i,o=GameMgr.getWinW,a=GameMgr.getWinH,r=this.isFirstOpen;return a>o?(0===this.screenType&&(r=!0),this.screenType=1,t=750,e=750/o*a,i=o/a):(1===this.screenType&&(r=!0),this.screenType=0,e=750,t=750/a*o,i=a/o),this.width=Math.ceil(t),this.height=Math.ceil(e),this.mobileType=.51>i?1:.65>i?2:3,r},i.prototype._resizeView=function(t){var e=this._initResizeView();this.resizeView(),this.updataParticlesEmitter(),e&&this.rotateView()},i}(eui.Component);t.UiFileBase=e,__reflect(e.prototype,"ui.UiFileBase")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){this.newId=0}return Object.defineProperty(t.prototype,"id",{get:function(){return this.newId++,this.newId},enumerable:!0,configurable:!0}),t}();t.AutoId=e,__reflect(e.prototype,"util.AutoId")}(util||(util={}));var data;!function(t){var e=function(){function t(t,e,i,o){this.pinOnes=[],this.id=t,this.pinOnes=e,this.keyPos=i,this.finishPos=o}return t}();t.UnlockData=e,__reflect(e.prototype,"data.UnlockData")}(data||(data={}));var util;!function(t){var e=function(){function t(){this.uiFilePool={}}return t.prototype.create=function(t){if("string"==typeof t)return this.UiFileEmpty;var e=gDevelop.classToString(t);if(ui[e]){var i=this.getByClassName(e);return i||(i=new ui[e],i.className=e,this.uiFilePool[e]=i),i}return this.UiFileEmpty},t.prototype.get=function(t){var e=gDevelop.classToString(t);return ui[e]?this.uiFilePool[e]:void 0},t.prototype.getByClassName=function(t){return this.uiFilePool[t]},t.prototype.destroy=function(t){this.uiFilePool[t]=null},Object.defineProperty(t.prototype,"UiFileEmpty",{get:function(){return this.uiEmpty||(this.uiEmpty=new ui.UiEmpty),this.uiEmpty},enumerable:!0,configurable:!0}),t}();t.UiMgr=e,__reflect(e.prototype,"util.UiMgr")}(util||(util={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isUiFirstLimit=!0,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.prototype.open.apply(this,e)},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e)},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFileBase);t.UiFile=e,__reflect(e.prototype,"ui.UiFile")}(ui||(ui={}));var data;!function(t){var e=function(){function t(t,e,i){void 0===i&&(i=!1),this.id=gAutoId.id,this.num=t,this.type=e,this.isOpen=i}return t}();t.CardData=e,__reflect(e.prototype,"data.CardData")}(data||(data={}));var com;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e)},e}(t.ComFileBase);t.ComFile=e,__reflect(e.prototype,"com.ComFile")}(com||(com={}));var util;!function(t){var e=function(){function t(){}return t.prototype.clickAim=function(t,e,i){switch(void 0===e&&(e=1),gTween.rmTweens(t),e){case 0:var o=t.alpha;gTween.tween(t,void 0,{props:{alpha:0},duration:200,call:{callback:function(){t.visible=!1,t.alpha=o},thisObj:this}});break;case 1:var a=i&&i.x?i.x:t.scaleX,r=i&&i.y?i.y:t.scaleY;egret.Tween.get(t).to({scaleX:.85*a,scaleY:.85*r},200).to({scaleX:a,scaleY:r},200)}},t.prototype.rmObj=function(t){return t&&t.parent&&t.parent.removeChild(t),null},t.prototype.rmEvent=function(t){this.destoryEvent(t.$getEventMap()),this.destoryEvent(t.$getEventMap(!0))},t.prototype.setObjSize=function(t,e){void 0===e&&(e=!1);var i=RES.getRes(t.source);if(i&&(t.width=i.textureWidth,t.height=i.textureHeight),e){var o=t.parent;o&&(o.width=t.width*t.scaleX,o.height=t.height*t.scaleY)}},t.prototype.setObjAnchor=function(t,e){void 0===e&&(e=!1),this.setObjSize(t,e);var i=t.width/2,o=t.height/2;t.anchorOffsetX=i,t.anchorOffsetY=o},t.prototype.setItemAnchor=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!0),t){var o=RES.getRes(t.source);o&&(t.width=o.textureWidth,t.height=o.textureHeight);var a=t.width/2,r=t.height/2;t.anchorOffsetX=a,t.anchorOffsetY=r;var n=Math.abs(t.scaleX),s=Math.abs(t.scaleY);if(e){var h=t.parent;h&&(h.width=t.width*n,h.height=t.height*s,i&&(h.anchorOffsetX=t.anchorOffsetX*n,h.anchorOffsetY=t.anchorOffsetY*s))}t.x=a*n,t.y=r*s}},t.prototype.destory=function(t){return this.rmEvent(t),gTween.rmTweens(t),this.rmObj(t),null},t.prototype.fadeOutDestory=function(t,e,i,o){var a=this;void 0===e&&(e=300);for(var r=[],n=4;n<arguments.length;n++)r[n-4]=arguments[n];gTween.fadeOut(t,e,void 0,void 0,void 0,{callback:function(){a.destory(t),i&&i.call.apply(i,[o].concat(r))}})},t.prototype.destoryEvent=function(t){if(t)for(var e in t){var i=t[e];if(i)for(;i.length;){var o=i.pop();o.target.removeEventListener(o.type,o.listener,o.thisObject,o.useCapture)}}},t.prototype.toLocal=function(t,e,i,o){return t?(e=void 0!=e?e:t.x,i=void 0!=i?i:t.y,t.globalToLocal(e,i,o)):void 0},t.prototype.toGlobal=function(t,e,i,o){return t?t.parent?(e=void 0!=e?e:t.x,i=void 0!=i?i:t.y,t.parent.localToGlobal(e,i,o)):(e=void 0!=e?e:0,i=void 0!=i?i:0,t.localToGlobal(e,i,o)):void 0},t.prototype.hitTestObj=function(t,e,i,o){if(void 0===i&&(i={x:0,y:0}),void 0===o&&(o={x:0,y:0}),t&&e){var a=t.getBounds(),r=e.getBounds();return a.x=t.x+(i.x||0),a.y=t.y+(i.y||0),r.x=e.x+(o.x||0),r.y=e.y+(o.y||0),a.intersects(r)}},t}();t.ComMgr=e,__reflect(e.prototype,"util.ComMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.objIsNull=function(t){if(!t)return!0;for(var e in t){var i=t[e];if(void 0!=i)return!1}return!0},t.prototype.arrHasVal=function(t,e){if(t===e)return!0;if(t&&!(t.length<=0)){for(var i=0,o=t;i<o.length;i++){var a=o[i];if(a===e)return!0;if(a.length&&a.length>0&&e.length&&e.length){for(var r=!0,n=0;n<e.length;n++)if(!this.arrHasVal(a[n],e[n])){r=!1;break}if(r)return!0}}return!1}},t.prototype.arrDelVal=function(t,e){if(t&&!(t.length<=0))for(var i=0;i<t.length;i++){var o=t[i];if(o===e){t.splice(i,1);break}}},t.prototype.classToString=function(t){if(t){var e=t.prototype.__class__.split("."),i=e.length;if(e&&!(0>=i)){var o=e[i-1];return o}}},t}();t.DevelopMgr=e,__reflect(e.prototype,"util.DevelopMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.maxStep=2,this.delayTimer=500,this.pressT=100,this.liftT=200,this._stepId=1,this.GuideCfg={1:{id:1,target:["6_0","0_0","0_6"],moveTime:500,vertexTarget:["6_0","0_6"],items:["6_0","5_0","4_0","3_0","2_0","1_0","0_0","0_1","0_2","0_3","0_4","0_5","0_6"],finish:!1},2:{id:2,target:["1_0","1_1","0_1","0_0","1_0"],lineGuide:!0,isHeadAndTail:!0,moveTime:200,items:["1_0","1_1","0_1","0_0"],finish:!1}}}return t.prototype.init=function(){this.stepId=1,this.initGuide(),this.initFirstGuideCfg()},Object.defineProperty(t.prototype,"stepId",{get:function(){return this._stepId},set:function(t){this._stepId=t},enumerable:!0,configurable:!0}),t.prototype.initGuide=function(){for(var t in this.GuideCfg){var e=this.GuideCfg[t];e.finish&&(e.finish=!1)}},t.prototype.initFirstGuideCfg=function(){this.firstGuideCfg=(t={},t[1]=!0,t[2]=!0,t[3]=!0,t);var t},t.prototype.isFirstGuideByProps=function(t){return this.firstGuideCfg[t]},t.prototype.updateFirstGuideByProps=function(t){this.firstGuideCfg[t]&&(this.firstGuideCfg[t]=!1)},t.prototype.getGuideById=function(t){return void 0!=t?this.GuideCfg[t]:void 0},t.prototype.finishGuide=function(t){void 0===t&&(t=this.stepId);var e=this.getGuideById(t);e&&(e.finish=!0)},t.prototype.lastGuideFinish=function(){var t=this.getGuideById(this.maxStep);if(t)return t.finish},t.prototype.createHand=function(t,e){var i=new com.ComBones;return i.setData(t,"guide",e),i.create(),i},t}();t.GuideMgr=e,__reflect(e.prototype,"util.GuideMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.getRandom=function(t,e){return void 0===e&&(e=0),t==e?t:Math.random()*(t-e)+e},t.prototype.getRandomInteger=function(t,e){return void 0===e&&(e=0),Math.floor(this.getRandom(t,e))},t.prototype.getRandomAnswer=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&0!=t.length){var i=t.length,o=1==i?0:this.getRandomInteger(i);return t[o]}},t.prototype.getSquarePositive=function(t,e){if(void 0===e&&(e=2),0>e)return void console.warn("此接口一般不开放，如需要开负数次方，推荐使用：getSquare()");for(var i=t,o=0;e>o;o++)i*=t;return i/=t},t.prototype.getSquare=function(t,e){void 0===e&&(e=2);var i=t;return i=Math.pow(t,e)},t.prototype.keepDecimal=function(t,e){void 0===e&&(e=2),e=Math.max(0,e);var i=this.getSquare(10,e);return Math.round(t*i)/i},t.prototype.getDistance=function(t,e,i,o){var a;return a=egret.Point.distance({x:t,y:e},{x:i,y:o}),a=Math.floor(a)},t.prototype.switchNum=function(t,e,i){var o=t+"";if(void 0!=i){var a=i-o.length;if(a>0)for(var r=0;a>r;r++)o="0"+o}if(e){for(var n=o,s=/(\d+)(\d{3})/;s.test(n);)n=n.replace(s,"$1,$2");o=n}return o},t.prototype.getTimeBySpeed=function(t,e,i,o,a){return void 0===i&&(i=t),void 0===o&&(o=e),Math.ceil(1e3*gMath.getDistance(t,e,i,o)/a)},t.prototype.switchHour=function(t,e){void 0===e&&(e=!0);var i,o=e?23:11;return t>o&&(t%=o+1),i=10>t?"0"+t+":00":t+":00"},t.prototype.switchMinute=function(t){var e=this.keepDecimal(t/1e3,0),i=this.switchNum(Math.floor(e/60),!1,2),o=this.switchNum(e%60,!1,2);return i+":"+o},t.prototype.rotateToDir=function(t){return(t+270)*Math.PI/180},t.prototype.pointToRotate=function(t,e,i,o){var a=Math.atan2(o-e,i-t),r=a*(180/Math.PI);return r+90},t.prototype.pointListByDensity=function(t,e,i,o,a){void 0===a&&(a=1);var r,n;if(void 0!=t&&void 0!=e?(r=r||{},r.x=t,r.y=e):n=!0,void 0!=i&&void 0!=o?(r=r||{},r.x=i,r.y=o):n=!0,r){var s=[];if(n)s.push(r);else{var h=gMath.getDistance(t,e,i,o);a=Math.min(a,h);for(var c=h/a,l=1;c>=l;l++){var p=Math.round(t-(t-i)*l/c),d=Math.round(e-(e-o)*l/c);s.push({x:p,y:d})}var u=s[0];(u.x!=t||u.y!=e)&&s.unshift({x:t,y:e});var f=s[s.length-1];(f.x!=i||f.y!=o)&&s.push({x:i,y:o})}return s}},t}();t.MathMgr=e,__reflect(e.prototype,"util.MathMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.birthPos=[],this.diePos=[],this.allPos=[],this._config={0:{x:1220,y:-82,dir:0},100:{x:350,y:440,dir:2},101:{x:520,y:550,dir:2},102:{x:770,y:690,dir:2},103:{x:908,y:820,dir:0},104:{x:420,y:1120,dir:2},105:{x:990,y:1460,dir:2},200:{x:260,y:490,dir:2},201:{x:440,y:600,dir:2},202:{x:690,y:740,dir:2},203:{x:810,y:850,dir:0},204:{x:306,y:1092,dir:2},205:{x:840,y:1460,dir:2}},this.peoplePosCfg={0:{birthPos:[[1,0]],diePos:[[1,0]],allPos:[[0,0],[1,0],[0,1],[1,1]]},1:{birthPos:[[1,0]],diePos:[[1,0]],allPos:[[0,0],[1,0],[0,1],[1,1]]},2:{birthPos:[[1,0]],diePos:[[1,0]],allPos:[[0,0],[1,0],[0,1],[1,1]]},3:{birthPos:[[1,0]],diePos:[[1,0]],allPos:[[0,0],[1,0],[0,1],[1,1]]}},this.maxRow=4,this.maxCol=3,this._aiPool=[]}return t.prototype.updatePos=function(){this.updateBirthPos(),this.updateDiePos(),this.updateAllPos()},t.prototype.updateBirthPos=function(){var t=GameMgr.currHouseId;t>1&&t--;var e=this.getBirthPos(t);e&&0!=e.length&&(0==this.birthPos.length?this.birthPos=e:this.birthPos=this.birthPos.concat(e))},t.prototype.updateDiePos=function(){var t=GameMgr.currHouseId;t>1&&t--;var e=this.getDiePos(t);e&&0!=e.length&&(0==this.diePos.length?this.diePos=e:this.diePos=this.diePos.concat(e))},t.prototype.updateAllPos=function(){var t=GameMgr.currHouseId,e=this.getAllPos(t);e&&0!=e.length&&(0==this.allPos.length?this.allPos=e:this.allPos=this.allPos.concat(e))},t.prototype.getBirthPos=function(t){var e=this.peoplePosCfg[t];if(e)return e.birthPos},t.prototype.getDiePos=function(t){var e=this.peoplePosCfg[t];if(e)return e.diePos},t.prototype.getAllPos=function(t){var e=this.peoplePosCfg[t];if(e)return e.allPos},t.prototype.getPos=function(t){return this._config[t]},t.prototype.hasPosId=function(t){return void 0!=this.getPos(t)},t.prototype.getMaxId=function(t){return 105},t.prototype.getNextPosId=function(t){if(this.hasPosId(t)){if(0===t)return 100;var e=this.getMaxId(t);return e>t?t+1:void 0}},t.prototype.createAi=function(){var t;return t=this._aiPool&&this._aiPool.length>0?this._aiPool.shift():new com.ComPeople},t.prototype.removeAi=function(t){gTween.rmTweens(t),gComMgr.rmObj(t),this._aiPool.push(t)},t}();t.PeopleMgr=e,__reflect(e.prototype,"util.PeopleMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.start=function(t){function e(t){y++,y==n&&i.removeChild(r)}var i=GameMgr.stage,o=GameMgr.stage.stageWidth,a=GameMgr.stage.stageHeight,r=new eui.Group;r.width=o,r.height=a,i.addChild(r);for(var n=40,s=5,h=n/s,c=0;n>c;c++){var l=o/s,p=a/h,d=c%s*l,u=Math.floor(c/s)*p,f=new egret.RenderTexture,g=(f.drawToTexture(i,new egret.Rectangle(d,u,l,p)),new egret.Bitmap);switch(g.texture=f,g.anchorOffsetX=l/2,g.anchorOffsetY=p/2,g.x=d+l/2,g.y=u+p/2,r.addChild(g),5==t&&(t=Math.ceil(4*Math.random())),t){case 1:gTween.tween(g,void 0,{props:{scaleX:0,scaleY:0,alpha:0,rotation:359},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 2:var v=-o;c%2||(v=2*o),gTween.tween(g,void 0,{props:{x:v,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 3:gTween.tween(g,void 0,{props:{scaleX:.2,scaleY:1,alpha:0,blurFliter:0},duration:800,ease:egret.Ease.backInOut,call:{callback:e,thisObj:this}});break;case 4:gTween.tween(g,void 0,{props:{alpha:0},duration:900,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;default:gTween.tween(g,void 0,{props:{scaleX:1,scaleY:0,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}})}}var y=0},t}();t.ScreenMovies=e,__reflect(e.prototype,"util.ScreenMovies")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.init=function(){},t.prototype.changeBg=function(t){changeBgMusic&&changeBgMusic("resource/assets/sound/"+t+".mp3")},t.prototype.playEff=function(t,e){void 0===e&&(e=1),window.webIsActivate&&playSoundEff&&playSoundEff("resource/assets/sound/"+t+".mp3",e)},t.prototype.stopEff=function(t){stopSoundEff&&stopSoundEff("resource/assets/sound/"+t+".mp3")},t.prototype.stopAllSound=function(){stopAllSound&&stopAllSound()},t.prototype.recoveryAllSound=function(){recoveryAllSound&&recoveryAllSound()},t.prototype.destory=function(){destorySound&&destorySound()},t}();t.SoundMgr=e,__reflect(e.prototype,"util.SoundMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.toHeight=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o?t.height=o:o=t.height,this.tween(t,void 0,{props:{height:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toAlpha=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o?t.alpha=o:o=t.alpha,this.tween(t,void 0,{props:{alpha:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toScale=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:e,scaleY:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toScaleX=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o?t.scaleX=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toScaleY=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o?t.scaleY=o:o=t.scaleY,this.tween(t,void 0,{props:{scaleY:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toMove=function(t,e,i,o,a,r,n,s,h){void 0===s&&(s={duration:0}),void 0!=a&&(t.x=a),void 0!=r&&(t.y=r),n?void 0==n.y&&(n.y=n.x):n={x:void 0,y:void 0};var c,l;o&&(void 0==o.y?(o.y=o.x,c=h):o.x>o.y?c=h:l=h),this.rmTweens(t),egret.Tween.get(t).to({x:e},o.x,n.x).wait(s.duration,s.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t}),egret.Tween.get(t).to({y:i},o.y,n.y).wait(s.duration,s.passive).call(function(){l&&l.callback&&(t=l.callback).call.apply(t,[l.thisObj].concat(l.params));var t})},t.prototype.toMoveBySpeed=function(t,e,i,o,a,r,n){void 0===e&&(e=t.x),void 0===i&&(i=t.y),void 0===o&&(o=500);for(var s=[],h=7;h<arguments.length;h++)s[h-7]=arguments[h];var c=gMath.getTimeBySpeed(t.x,t.y,e,i,o);return gTween.toMove(t,e,i,{x:c},void 0,void 0,a,void 0,{callback:function(){r&&r.call.apply(r,[n].concat(s))}}),c},t.prototype.toMoveX=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o&&(t.x=o),this.tween(t,void 0,{props:{x:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toMoveY=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o&&(t.y=o),this.tween(t,void 0,{props:{y:e},ease:a,wait:r,duration:i,call:n})},t.prototype.toBottomShow=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),t.y-=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:a},ease:r,wait:n,duration:e,call:s})},t.prototype.toTopHide=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),this.tween(t,void 0,{props:{y:o-i,alpha:0},ease:r,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toTopShow=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),t.y+=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:a},ease:r,wait:n,duration:e,call:s})},t.prototype.toBottomHide=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),this.tween(t,void 0,{props:{y:o+i,alpha:0},ease:r,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toYShowPhy=function(t,e,i,o,a,r,n,s,h,c){void 0===o&&(o=t.height),void 0===a&&(a=t.y),void 0===r&&(r=t.alpha),void 0===n&&(n=egret.Ease.sineOut),void 0===s&&(s=egret.Ease.sineIn),void 0===h&&(h={duration:0}),t.y+=o,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({y:a-e,alpha:r},Math.floor(i/2),n).to({y:a},Math.floor(i/4),s).to({y:a-Math.floor(e/6)},Math.floor(i/8),n).to({y:a},Math.floor(i/8),s).wait(h.duration,h.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t},this)},t.prototype.toRightShow=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),t.x-=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:a},ease:r,wait:n,duration:e,call:s})},t.prototype.toLeftHide=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),this.tween(t,void 0,{props:{x:o-i,alpha:0},ease:r,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toLeftShow=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),t.x+=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:a},ease:r,wait:n,duration:e,call:s})},t.prototype.toRightHide=function(t,e,i,o,a,r,n,s){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),this.tween(t,void 0,{props:{x:o+i,alpha:0},ease:r,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toXShowPhy=function(t,e,i,o,a,r,n,s,h,c){void 0===o&&(o=t.width),void 0===a&&(a=t.x),void 0===r&&(r=t.alpha),void 0===n&&(n=egret.Ease.sineOut),void 0===s&&(s=egret.Ease.sineIn),void 0===h&&(h={duration:0}),t.x+=o,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({x:a-e,alpha:r},Math.floor(i/2),n).to({x:a},Math.floor(i/4),s).to({x:a-Math.floor(e/6)},Math.floor(i/8),n).to({x:a},Math.floor(i/8),s).wait(h.duration,h.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t},this)},t.prototype.toBigShow=function(t,e,i,o,a,r,n){void 0===i&&(i=t.scaleX),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),t.scaleX=t.scaleY=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:i,scaleY:i,alpha:o},ease:a,wait:r,duration:e,call:n})},t.prototype.showBubble=function(t,e,i,o,a,r,n){var s=this;void 0===e&&(e=500),void 0===n&&(n={isFloat:!0}),i||(i={}),i.orgS=void 0!=i.orgS?i.orgS:t.scaleX,i.orgA=void 0!=i.orgA?i.orgA:t.alpha,i.ease=void 0!=i.ease?i.ease:egret.Ease.bounceOut,gTween.toBigShow(t,e,i.orgS,i.orgA,i.ease,i.wait,{callback:function(){n&&void 0===n.isFloat&&(n.isFloat=!0),n.isFloat&&s.floatBubble(t,n.targetY,n.duration,n.orgY,n.ease),o&&o.call(a,r)
}})},t.prototype.toSmallHide=function(t,e,i,o,a,r,n){void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,this.tween(t,void 0,{props:{scaleX:0,scaleY:0,alpha:0},ease:a,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=i,t.alpha=o,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.hideBubble=function(t,e,i,o,a,r){void 0===e&&(e=300),i||(i={}),i.orgS=void 0!=i.orgS?i.orgS:t.scaleX,i.orgA=void 0!=i.orgA?i.orgA:t.alpha,gTween.toSmallHide(t,e,i.orgS,i.orgA,i.ease,i.wait,{callback:o,thisObj:a,params:r})},t.prototype.toSmallShow=function(t,e,i,o,a,r,n,s){void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,t.scaleX=t.scaleY*=e,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:o,scaleY:o,alpha:a},ease:r,wait:n,duration:i,call:s})},t.prototype.toBigHide=function(t,e,i,o,a,r,n,s){void 0===a&&(a=t.alpha),void 0===n&&(n={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:t.scaleX*e,scaleY:t.scaleX*e,alpha:0},ease:r,wait:n,duration:i,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=o,t.alpha=a,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toWidthAddShow=function(t,e,i,o,a,r,n){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),t.width=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{width:i,alpha:o},ease:a,wait:r,duration:e,call:n})},t.prototype.toWidthCutHide=function(t,e,i,o,a,r,n){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{width:0,alpha:0},ease:a,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.width=i,t.alpha=o,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toHeightAddShow=function(t,e,i,o,a,r,n){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),t.height=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{height:i,alpha:o},ease:a,wait:r,duration:e,call:n})},t.prototype.toHeightCutHide=function(t,e,i,o,a,r,n){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{height:0,alpha:0},ease:a,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.height=i,t.alpha=o,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toWidthChange=function(t,e,i,o,a,r,n){void 0===r&&(r={duration:0}),void 0!=o&&(t.width=o),o=t.width,t.visible=!0,this.tween(t,void 0,{props:{width:o+i},ease:a,wait:r,duration:e,call:{callback:function(){t.width<=0&&(t.width=0,t.visible=!1),n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.fadeIn=function(t,e,i,o,a,r){void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{alpha:i},ease:o,wait:a,duration:e,call:r})},t.prototype.fadeOut=function(t,e,i,o,a,r){void 0===i&&(i=t.alpha),this.tween(t,void 0,{props:{alpha:0},ease:o,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.loopFloat=function(t,e,i,o,a){void 0===e&&(e=-20),void 0===i&&(i=500),void 0!=o?t.y=o:o=t.y,this.tween(t,{loop:!0},{props:{y:o+e},duration:i,ease:a},{props:{y:o},duration:i,ease:a})},t.prototype.floatBubble=function(t,e,i,o,a){void 0===e&&(e=-20),void 0===i&&(i=500),void 0===o&&(o=t.y),gTween.loopFloat(t,e,i,o,a)},t.prototype.loopScale=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e,scaleY:o*e},duration:i,ease:a},{props:{scaleX:o,scaleY:o},duration:i,ease:a})},t.prototype.loopScaleX=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleX=o:o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e},duration:i,ease:a},{props:{scaleX:o},duration:i,ease:a})},t.prototype.loopScaleY=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleY=o:o=t.scaleY,this.tween(t,{loop:!0},{props:{scaleY:o*e},duration:i,ease:a},{props:{scaleY:o},duration:i,ease:a})},t.prototype.yoyoBtn=function(t,e,i,o){if(void 0===e&&(e=!0),void 0===i&&(i=1),!e||!(gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel))switch(o||(o={}),o.orgS||(o.orgS={}),void 0==o.orgS.x?o.orgS.x=t.scaleX:t.scaleX=o.orgS.x,void 0==o.orgS.y?o.orgS.y=t.scaleY:t.scaleY=o.orgS.y,o.targetS||(o.targetS={}),o.diffS||(o.diffS={}),o.ease||(o.ease={}),i){case 2:gTween.drawing(t,o.targetS,o.duration,o.diffS,o.times,o.ease,o.wait);break;case 3:gTween.swing(t,o.diffR,o.duration,o.orgR,o.times,o.ease["in"],o.wait);break;default:gTween.loopScale(t,o.targetS.x,o.duration,o.orgS.x,o.ease["in"])}},t.prototype.loopAlpha=function(t,e,i,o,a){void 0===e&&(e=0),void 0===i&&(i=500),void 0!=o&&(t.alpha=o),o=t.alpha,this.tween(t,{loop:!0},{props:{alpha:o*e},duration:i,ease:a},{props:{alpha:o},duration:i,ease:a})},t.prototype.loopRotate=function(t,e,i,o,a){void 0===e&&(e=1),void 0===i&&(i=3600),void 0!=o&&(t.rotation=o),o=t.rotation,this.tween(t,{loop:!0},{props:{rotation:o+360*e},duration:i,ease:a})},t.prototype.swing=function(t,e,i,o,a,r,n,s){var h=this;void 0===e&&(e=5),void 0===i&&(i=150),void 0===n&&(n={duration:800}),void 0!=o?t.rotation=o:o=t.rotation;var c=function(l){if(!l&&0>=a)return void(s&&s.callback&&(p=s.callback).call.apply(p,[s.thisObj].concat(s.params)));egret.Tween.get(t,{loop:l}).to({rotation:o+e},i/2,r).to({rotation:o-2*e},i,r).to({rotation:o},i/2,r).to({rotation:o+e},i/2,r).to({rotation:o-2*e},i,r).to({rotation:o},i/2,r).wait(n.duration,n.passive).call(function(){l||(a--,c.call(h))});var p};!a||0>=a?c.call(this,!0):c.call(this)},t.prototype.drawing=function(t,e,i,o,a,r,n,s){var h=this;void 0===i&&(i=800),void 0===o&&(o={}),void 0===n&&(n={duration:0}),e||(e={}),void 0==e.x&&(e.x=.1),void 0==e.y&&(e.y=e.x),o||(o={}),void 0==o.x?o.x=t.scaleX:t.scaleX=o.x,void 0==o.y?o.y=t.scaleY:t.scaleY=o.y,r||(r={}),void 0==r["in"]&&(r["in"]=egret.Ease.quadOut),void 0==r.out&&(r.out=egret.Ease.quadIn);var c=function(l){if(!l&&0>=a)return void(s&&s.callback&&(p=s.callback).call.apply(p,[s.thisObj].concat(s.params)));egret.Tween.get(t,{loop:l}).to({scaleX:o.x+e.x},i/4,r["in"]).to({scaleX:o.x},i/4,r.out).to({scaleX:o.x-e.x},i/4,r["in"]).to({scaleX:o.x},i/4,r.out),egret.Tween.get(t,{loop:l}).to({scaleY:o.y-e.y},i/4,r["in"]).to({scaleY:o.y},i/4,r.out).to({scaleY:o.y+e.y},i/4,r["in"]).to({scaleY:o.y},i/4,r.out).wait(n.duration,n.passive).call(function(){l||(a--,c.call(h))});var p};!a||0>=a?c.call(this,!0):c.call(this)},t.prototype.tween=function(t,e){var i=this;void 0===e&&(e={});for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.rmTweens(t);var r=egret.Tween.get(t,e,e.pluginData,e.override);if(!o||o.length<=0)return this.rmTweens(t),r;var n=0,s=function(){var t=o[n];t.wait?r.to(t.props,t.duration,t.ease).wait(t.wait.duration,t.wait.passive).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),n++,n>=o.length)return r;s();var e},i):r.to(t.props,t.duration,t.ease).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),n++,n>=o.length)return r;s();var e},i)};s()},t.prototype.rmTweens=function(t){t&&egret.Tween.removeTweens(t)},t}();t.TweenMgr=e,__reflect(e.prototype,"util.TweenMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=3,e.skinName=skins.ComSaw,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=this.con,e=this.topLayer;this.touchChildren=!1,gComMgr.setItemAnchor(e),gComMgr.setItemAnchor(t),this.initY=t.y},e.prototype.start=function(){this.die(null),this.playIdle()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.initBox=function(){var t=this.con;gTween.rmTweens(t),t.y=this.initY},e.prototype.playIdle=function(){var t=this.con;this.id=0;this.initBox(),t.visible=!0,gTween.loopFloat(t,10,1e3,this.initY)},e.prototype.playDropDown=function(t){void 0===t&&(t=1e3);var e=this.con,i=this.topLayer,o=(this.id=1,e.height-i.height);this.initBox(),gTween.toMoveY(i,o,t,0)},e.prototype.playStand=function(){var t=this.con,e=this.topLayer,i=(this.id=3,t.height-e.height);this.initBox(),e.y=i},e.prototype.playDie=function(){this.playStand();var t=this.con;this.id=4;gTween.fadeOut(t)},e.prototype.die=function(t){return void 0===t?this._die:void(this._die=t)},e}(t.ComFile);t.ComSaw=e,__reflect(e.prototype,"com.ComSaw")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComTarget,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.touchChildren=!1;var t=this.con,e=this.bg;this.time;gComMgr.setObjSize(e,!0),t.height+=43;var i=GameMgr.getConfig("countdown");this.remainTime=Math.max(i,0),this.renderTime()},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(1==GameMgr.screenType)switch(this.scaleX=this.scaleY=e,GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(this.scaleX=this.scaleY=.92*e,GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.startTime=function(){this.startTimeed||(this.startTimeed=!0,egret.clearInterval(this.timeDelay),this.timeDelay=egret.setInterval(this.updateTime,this,1e3))},e.prototype.stopTime=function(){egret.clearInterval(this.timeDelay)},e.prototype.updateTime=function(){return this.remainTime<=0?(this.stopTime(),void this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE)):(this.remainTime--,void this.renderTime())},Object.defineProperty(e.prototype,"remainTime",{get:function(){return this._remainTime},set:function(t){if(!(0>t)){t=Math.max(t,0),this._remainTime=t;var e=GameMgr.getConfig("countdown");e=Math.max(e,0);var i=e-this.remainTime;switch(i){case 3:break;case 6:break;case 9:break;case 12:}}},enumerable:!0,configurable:!0}),e.prototype.renderTime=function(){var t=this.time;t.text=gMath.switchMinute(1e3*this.remainTime)},e}(t.ComFile);t.ComTarget=e,__reflect(e.prototype,"com.ComTarget")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComTips,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){this.conWord.visible=!1},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.head.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHead,this)},e.prototype.removeEvent=function(){this.head.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHead,this)},e.prototype.resizeView=function(t){var e=this.con,i=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(e.scaleX=e.scaleY=i,1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){var e=this.con,i=this.gWord,o=this.conBubble,a=this.word;1==GameMgr.screenType?(e.width=350,e.height=299,i.x=133,i.y=142,o.rotation=0,a.horizontalCenter=-10,a.verticalCenter=-35):(e.width=246,e.height=402,i.x=36,i.y=194,o.rotation=15,a.horizontalCenter=-32,a.verticalCenter=-14)},e.prototype.showWord=function(){gTween.showBubble(this.conWord,500,{orgS:1,orgA:1,ease:egret.Ease.backOut})},e.prototype.hideWord=function(){gTween.hideBubble(this.conWord,200,{orgS:1,orgA:1})},e.prototype.clickHead=function(t){this.clickInstall(t)},e}(t.ComFile);t.ComTips=e,__reflect(e.prototype,"com.ComTips")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.currPosId=0,e.maxPosId=2,e.skinName=skins.ComBtn,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){var t=this.loupe,e=this.currPosId=0,i=this["pos"+e];t.visible=!1,t.x=i.x,t.y=i.y,this.showLoupe()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.removeEvent=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.move=function(t,e,i,o,a,r,n){void 0===e&&(e=t.x),void 0===i&&(i=t.y),void 0===o&&(o=500);for(var s=[],h=7;h<arguments.length;h++)s[h-7]=arguments[h];var c=gMath.getTimeBySpeed(t.x,t.y,e,i,o);return gTween.toMove(t,e,i,{x:c},void 0,void 0,a,void 0,{callback:function(){r&&r.call.apply(r,[n].concat(s))}}),c},e.prototype.showLoupe=function(){var t=this.loupe;gTween.fadeIn(t,300,1,void 0,void 0,{callback:this.moveLoupe,thisObj:this})},e.prototype.moveLoupe=function(){var t=this.loupe,e=this.currPosId;e++,e>this.maxPosId&&(e=0),this.currPosId=e;var i=this["pos"+e];this.move(t,i.x,i.y,100,void 0,this.moveLoupe,this)},e}(t.ComFile);t.ComBtn=e,__reflect(e.prototype,"com.ComBtn")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComBubble,e}return __extends(e,t),e.prototype.init=function(t,e){this.word.source=t,e||(e={}),e.paddingX=void 0!=e.paddingX?e.paddingX:25,e.paddingY=void 0!=e.paddingY?e.paddingY:18,e.arrowDiffX=void 0!=e.arrowDiffX?e.arrowDiffX:148,e.arrowDiffY=void 0!=e.arrowDiffY?e.arrowDiffY:20,e.arrowDir=void 0!=e.arrowDir?e.arrowDir:gConst.direction.LEFT_BOTTOM,this.cfg=e},e.prototype.load=function(){var t=this.con,e=this.conWord,i=this.bgDebug,o=this.bgWord,a=this.word,r=this.cfg,n=r.paddingX,s=r.paddingY,h=r.arrowDiffY,c=r.arrowDir;gComMgr.setObjSize(a);var l=a.width+2*n,p=a.height+2*s;o.width=l,o.height=p+h,o.anchorOffsetX=o.width/2,o.y=o.anchorOffsetY=(o.height-h)/2;var d=o.scaleX,u=0,f=1,g=r.arrowDiffX,v=r.arrowDiffY;switch(c){case gConst.direction.LEFT_TOP:u=180,f=-1,g=l-g,v*=-1;break;case gConst.direction.RIGHT_TOP:u=180,v*=-1;break;case gConst.direction.LEFT_BOTTOM:g=l-g,v+=p;break;case gConst.direction.RIGHT_BOTTOM:f=-1,v+=p}o.rotation=u,o.scaleX=d*f,e.width=l,e.height=p,e.x=e.anchorOffsetX=g,e.y=e.anchorOffsetY=v,gComMgr.setObjSize(e,!0),gComMgr.setObjSize(t,!0),i.width=l,i.height=p+h,i.anchorOffsetX=i.width/2,i.y=i.anchorOffsetY=(i.height-h)/2,i.rotation=o.rotation+180,i.visible=gConst.debugModel},e.prototype.start=function(){var t=this.conWord;t.visible=!1},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.showBubble=function(t,e){if(void 0===t&&(t=500),void 0===e&&(e={isFloat:!0}),this.showBubbled)this.hideBubble(void 0,this.showBubble,this);else{var i=this.conWord;this.showBubbled=!0,gTween.showBubble(i,t,{orgS:1,orgA:1},void 0,void 0,void 0,e)}},e.prototype.hideBubble=function(t,e,i){if(void 0===t&&(t=300),this.showBubbled){var o=this.conWord;this.showBubbled=!1,gTween.hideBubble(o,t,{orgS:1,orgA:1},e,i)}},e}(t.ComFile);t.ComBubble=e,__reflect(e.prototype,"com.ComBubble")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComFloat,e}return __extends(e,t),e.prototype.init=function(t){this.data=t},e.prototype.load=function(){this.touchEnabled=this.touchChildren=!1},e.prototype.start=function(){var t=this.data,e=this["float"],i=this.conFloat,o=this.con;e.source=gMath.getRandomAnswer.apply(gMath,t.floatAnswers),t.isAdaptiveScale&&this.parent&&(e.scaleX=e.scaleY=this.parent.scaleX),gComMgr.setItemAnchor(e),gComMgr.setItemAnchor(i),gComMgr.setItemAnchor(o),this.speed(gMath.getRandomInteger(t.speedMax,t.speedMin)),this.rotateDir=gMath.getRandomAnswer(1,-1),this.rotate(gMath.getRandomInteger(t.rotateMax,t.rotateMin)),this.alphaDir=gMath.getRandomAnswer(1,-1),e.alpha=gMath.getRandom(t.alphaMax,t.alphaMin),this.scaleDir=gMath.getRandomAnswer(1,-1),e.scaleX=e.scaleY=gMath.getRandom(t.scaleMax,t.scaleMin),this.die(!1)},e.prototype.stop=function(){},e.prototype.update=function(){this.yoyoRotate(),this.yoyoAlpha(),this.yoyoScale()},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.speed=function(t){return void 0==t?this._speed:void(this._speed=t)},e.prototype.rotate=function(t){return void 0==t?this._rotate:(this._rotate=t,void(this["float"].rotation=this._rotate))},e.prototype.yoyoRotate=function(){var t=this.data;if(t.rotateMax!=t.rotateMin){var e=(this["float"],t.rotateDiff),i=this.rotate()+e*this.rotateDir;(i<t.rotateMin||i>t.rotateMax)&&(this.rotateDir*=-1,e*=this.rotateDir,i=this.rotate()+e),this.rotate(i)}},e.prototype.yoyoAlpha=function(){var t=this.data;if(!t.isAllAlpha&&t.alphaMax!=t.alphaMin){var e=this["float"],i=t.alphaDiff,o=e.alpha+i*this.alphaDir;(o<t.alphaMin||o>=t.alphaMax)&&(this.alphaDir*=-1,i*=this.alphaDir,o=e.alpha+i),e.alpha=o}},e.prototype.yoyoScale=function(){var t=this.data;if(t.scaleMax!=t.scaleMin){var e=this["float"],i=t.scaleDiff,o=e.scaleX+i*this.scaleDir;(o<t.scaleMin||o>t.scaleMax)&&(this.scaleDir*=-1,i*=this.scaleDir,o=e.scaleX+i),e.scaleX=e.scaleY=o}},e.prototype.die=function(t){return void 0===t?this._die:void(this._die=t)},e.prototype.dire=function(t){return void 0===t?this._dire:void(this._dire=t)},e}(t.ComFile);t.ComFloat=e,__reflect(e.prototype,"com.ComFloat")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isGuide=!1,e.skinName=skins.ComGuide,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isMC=!1,this.touchEnabled=this.touchChildren=!1,this.hideLight()},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e*this.offS,this.isGuide&&(egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,100)),1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setMcData=function(t,e,i,o){void 0===e&&(e=1),void 0===i&&(i=0),void 0===o&&(o=0),this.isMC=!0,this.playCnt=e,this.hand.open(),this.hand.setData(t,i,o),this.fName=t[0].fName,this.frameCnt=t[0].frameCnt,this.hand.gotoAndStop(this.fName)},e.prototype.setData=function(t,e,i,o){void 0===o&&(o={}),this.delayTimer=t,this.target1=e.target1,this.target2=e.target2,this.target3=e.target3,this.target4=e.target4,this.target5=e.target5,this.moveTime=e.moveTime,this.isReturn=e.isReturn,this.parentObj=i,this.diffX=void 0!=o.diffX?o.diffX:0,this.diffY=void 0!=o.diffY?o.diffY:20,this.diffS=void 0!=o.diffS?o.diffS:.9,this.pressT=void 0!=o.pressT?o.pressT:300,this.liftT=void 0!=o.liftT?o.liftT:800,this.waitT=void 0!=o.waitT?o.waitT:500,this.direction=void 0!=o.direction?o.direction:gConst.direction.CENTER_CENTER,this.offX=void 0!=o.offX?o.offX:0,this.offY=void 0!=o.offY?o.offY:0,this.offR=void 0!=o.offR?o.offR:0,this.offS=void 0!=o.offS?o.offS:1,this.isBack=void 0!=o.isBack?o.isBack:!1},e.prototype.updateData=function(t){void 0!=t.delayTimer&&(this.delayTimer=t.delayTimer),void 0!=t.targetArg.target1&&(this.target1=t.targetArg.target1),void 0!=t.targetArg.target2&&(this.target2=t.targetArg.target2),void 0!=t.targetArg.target3&&(this.target3=t.targetArg.target3),void 0!=t.targetArg.target4&&(this.target4=t.targetArg.target4),void 0!=t.targetArg.target5&&(this.target5=t.targetArg.target5),void 0!=t.targetArg.moveTime&&(this.moveTime=t.targetArg.moveTime),void 0!=t.targetArg.isReturn&&(this.isReturn=t.targetArg.isReturn),void 0!=t.parentObj&&(this.parentObj=t.parentObj),void 0!=t.prop&&(void 0!=t.prop.diffX&&(this.diffX=t.prop.diffX),void 0!=t.prop.diffY&&(this.diffY=t.prop.diffY),void 0!=t.prop.diffS&&(this.diffS=t.prop.diffS),void 0!=t.prop.pressT&&(this.pressT=t.prop.pressT),void 0!=t.prop.liftT&&(this.liftT=t.prop.liftT),void 0!=t.prop.waitT&&(this.waitT=t.prop.waitT),void 0!=t.prop.direction&&(this.direction=t.prop.direction),void 0!=t.prop.offX&&(this.offX=t.prop.offX),void 0!=t.prop.offY&&(this.offY=t.prop.offY),void 0!=t.prop.offR&&(this.offR=t.prop.offR),void 0!=t.prop.offS&&(this.offS=t.prop.offS),void 0!=t.prop.isBack&&(this.isBack=t.prop.isBack))},e.prototype.play=function(){egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,this.delayTimer)},e.prototype.over=function(){var t=this;egret.clearTimeout(this.guideDelay),this.isGuide&&this&&this.parent&&(this.isGuide=!1,this.hideLight(!0),gTween.fadeOut(this.hand,300,1,void 0,void 0,{callback:function(){gTween.rmTweens(t.hand),gComMgr.rmObj(t),t.hand.alpha=1,t.dispatchEventWith(gConst.eventType.GUIDE_STOP)}}))},e.prototype.stopMC=function(){this.isMC&&this.hand.pause()},e.prototype.reset=function(){this.once(gConst.eventType.GUIDE_STOP,this.start,this),this.over()},e.prototype.showLight=function(){var t=this;this.light&&(this.light.x=this.initHandX,this.light.y=this.initHandY,this.light.scaleX=this.light.scaleY=1,gTween.fadeIn(this.light,300,1,void 0,void 0,{callback:function(){gTween.loopScale(t.light,.65,(t.pressT+t.liftT+t.waitT)/2,1)}}))},e.prototype.hideLight=function(t){void 0===t&&(t=!1),this.light&&(t?gTween.fadeOut(this.light,300,1):this.light.visible=!1)},e.prototype.showGuide=function(){this.isMC&&this.hand.gotoAndStop(this.fName),this.show(),this.hand.alpha=1,this.parentObj.addChild(this),this.updateGuideLoc()},e.prototype.updateGuideLoc=function(t){if(void 0===t&&(t=this.target1),this&&this.parent){var e=t.x-t.anchorOffsetX*t.scaleX,i=t.y-t.anchorOffsetY*t.scaleX,o=t.width*t.scaleX,a=t.height*t.scaleX;switch(this.direction){case gConst.direction.LEFT_TOP:this.rotation=135;break;case gConst.direction.CENTER_TOP:e+=o/2,this.rotation=180;break;case gConst.direction.RIGHT_TOP:e+=o,this.rotation=-135;break;case gConst.direction.RIGHT_CENTER:e+=o,i+=a/2,this.rotation=-90;break;case gConst.direction.RIGHT_BOTTOM:e+=o/2,i+=a/2,this.rotation=-45;break;case gConst.direction.CENTER_BOTTOM:e+=o/2,i+=a,this.rotation=0;break;case gConst.direction.LEFT_BOTTOM:i+=a,this.rotation=45;break;case gConst.direction.LEFT_CENTER:i+=a/2,this.rotation=90;break;default:e+=o/2,i+=a/2,this.rotation=0}e+=this.offX*t.scaleX,i+=this.offY*t.scaleX,this.rotation+=this.offR;var r=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];this.scaleX=this.scaleY=r*this.offS;var n=t.parent.localToGlobal(e,i),s=this.globalToLocal(n.x,n.y,n);this.initHandX=this.hand.x=s.x,this.initHandY=this.hand.y=s.y}},e.prototype.playGuide=function(){var t=this;if(this.showGuide(),this.isGuide=!0,gTween.rmTweens(this.hand),this.hand.alpha=0,this.hand.scaleX=this.hand.scaleY=1,this.hand.visible=!0,this.showLight(),this.target2)if(this.target3)if(this.target4)if(this.target5){var e=this.initHandX,i=this.initHandY;this.updateGuideLoc(this.target2);var o=this.initHandX,a=this.initHandY;this.updateGuideLoc(this.target3);var r=this.initHandX,n=this.initHandY;this.updateGuideLoc(this.target4);var s=this.initHandX,h=this.initHandY;this.updateGuideLoc(this.target5);var c=this.initHandX,l=this.initHandY;this.hand.x=e+this.diffX,this.hand.y=i+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var p;p=this.isReturn?{x:e+this.diffX,y:i+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:o,y:a},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:r,y:n},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:s,y:h},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:c,y:l},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(p,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:e,y:i,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:e+t.diffX,y:i+t.diffY},t.liftT).to({x:o+t.diffX,y:a+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:o,y:a},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:o+t.diffX,y:a+t.diffY},t.liftT).to({x:r+t.diffX,y:n+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:r,y:n},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:r+t.diffX,y:n+t.diffY},t.liftT).to({x:s+t.diffX,y:h+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:s,y:h},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:s+t.diffX,y:h+t.diffY},t.liftT).to({x:c+t.diffX,y:l+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:c,y:l},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:c+t.diffX,y:l+t.diffY},t.liftT).wait(t.waitT).to(p,t.isReturn?4*t.moveTime:t.waitT)},this)}else{var d=this.initHandX,u=this.initHandY;this.updateGuideLoc(this.target2);var f=this.initHandX,g=this.initHandY;this.updateGuideLoc(this.target3);var v=this.initHandX,y=this.initHandY;this.updateGuideLoc(this.target4);var m=this.initHandX,T=this.initHandY;this.hand.x=d+this.diffX,this.hand.y=u+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var w;w=this.isReturn?{x:d+this.diffX,y:u+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:f,y:g},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:v,y:y},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:m,y:T},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(w,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:d,y:u,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:d+t.diffX,y:u+t.diffY},t.liftT).to({x:f+t.diffX,y:g+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:f,y:g},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:f+t.diffX,y:g+t.diffY},t.liftT).to({x:v+t.diffX,y:y+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:v,y:y},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:v+t.diffX,y:y+t.diffY},t.liftT).to({x:m+t.diffX,y:T+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:m,y:T},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:m+t.diffX,y:T+t.diffY},t.liftT).wait(t.waitT).to(w,t.isReturn?3*t.moveTime:t.waitT)},this)}else{var b=this.initHandX,_=this.initHandY;this.updateGuideLoc(this.target2);var E=this.initHandX,M=this.initHandY;this.updateGuideLoc(this.target3);var C=this.initHandX,O=this.initHandY;this.hand.x=b+this.diffX,this.hand.y=_+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var P;P=this.isReturn?{x:b+this.diffX,y:_+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:E,y:M},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:C,y:O},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(P,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:b,y:_,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:b+t.diffX,y:_+t.diffY},t.liftT).to({x:E+t.diffX,y:M+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:E,y:M},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:E+t.diffX,y:M+t.diffY},t.liftT).to({x:C+t.diffX,y:O+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:C,y:O},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:C+t.diffX,y:O+t.diffY},t.liftT).wait(t.waitT).to(P,t.isReturn?2*t.moveTime:t.waitT)
},this)}else{var S=this.initHandX,x=this.initHandY;this.updateGuideLoc(this.target2);var k=this.initHandX,D=this.initHandY;this.hand.x=S+this.diffX,this.hand.y=x+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var I;I=this.isReturn?{x:S+this.diffX,y:x+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:k,y:D},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(I,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:S,y:x,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:S+t.diffX,y:x+t.diffY},t.liftT).to({x:k+t.diffX,y:D+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:k,y:D},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:k+t.diffX,y:D+t.diffY},t.liftT).wait(t.waitT).to(I,t.isReturn?t.moveTime:t.waitT)},this)}else this.isBack?(this.hand.x=this.initHandX,this.hand.y=this.initHandY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.gotoAndStop(t.fName,2)},t).wait(t.liftT+t.waitT).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndReverse(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName,2)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE])},this)):(this.hand.x=this.initHandX+this.diffX,this.hand.y=this.initHandY+this.diffY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){if(t.isMC)if(t.playCnt>-1){var e=t.playCnt;egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(2*t.frameCnt)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(function(){return t.dispatchEventWith.call(t,gConst.eventType.GUIDE_TOUCH_ONE),e--,0>=e?void t.over():void 0}).wait(t.waitT)}else t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt);else egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT)},this))},e}(t.ComFile);t.ComGuide=e,__reflect(e.prototype,"com.ComGuide")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComHeader,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.curNum=0,this.curTime=6},e.prototype.start=function(){this.time.text=gMath.switchHour(this.curTime)},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(this.width=this.con.width=this.header.width=760,this.height=this.con.height=this.header.height=275,GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(this.width=this.con.width=this.header.width=410,this.height=this.con.height=this.header.height=202,GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType?(this.header.source="p_top_png",this.conTime.left=5,this.conTime.horizontalCenter=0/0,this.conTime.bottom=42,this.conNum.right=47,this.conNum.horizontalCenter=0/0):(this.header.source="p_top_h_png",this.conTime.left=0/0,this.conTime.horizontalCenter=0,this.conTime.bottom=100,this.conNum.right=0/0,this.conNum.horizontalCenter=0)},e.prototype.addGold=function(t){this.diffNum=t,this.take()},Object.defineProperty(e.prototype,"curGold",{get:function(){return this.curNum},enumerable:!0,configurable:!0}),e.prototype.take=function(){this.playNum()},e.prototype.playNum=function(){var t=this;if(this.diffNum){var e=this.curNum;this.curNum+=this.diffNum;var i=function(i){var o=i-e,a=Math.abs(o),r=a<gConst.changeGoldTimes?a:gConst.changeGoldTimes,n=a<gConst.changeGoldTimes?1:Math.floor(o/gConst.changeGoldTimes),s=0,h=function(){setTimeout(function(){return t.num.text=gMath.switchNum(e+=n,!0,12),s==r-1?(t.num.text=gMath.switchNum(t.curNum,!0,12),void t.dispatchEventWith(egret.Event.COMPLETE)):(s++,void h())},gConst.changeGoldTimer*(s+1))};h()},o=function(){var o,a;t.curNum>e?(o=t.curNum,a=e):(o=e,a=t.curNum);var r=Math.floor(Math.random()*o+a);i(r)};o()}},e.prototype.startTime=function(){this.timeDelay=egret.setInterval(this.updateTime,this,2500)},e.prototype.updateTime=function(){this.curTime++,this.time.text=gMath.switchHour(this.curTime),18==this.curTime||this.curTime>=20&&(this.icon.source="p_night_png",this.stopTime())},e.prototype.stopTime=function(){egret.clearInterval(this.timeDelay)},e}(t.ComFile);t.ComHeader=e,__reflect(e.prototype,"com.ComHeader")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.lightPool=[],e.skinName=skins.ComLight,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=this.con,e=this.light;gComMgr.setItemAnchor(e),gComMgr.setItemAnchor(t),this.touchEnabled=this.touchChildren=!1,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2},e.prototype.start=function(){var t=this,e=this.con,i=this.light;e.removeChildren(),e.visible=!0,gTween.rmTweens(e),this.lightPool=[i];var o=GameMgr.getConfig("handTime");void 0==o&&(o=500),egret.setTimeout(function(){t.addLight(),t.addLightDelay=egret.setInterval(t.addLight,t,o+gGuideMgr.pressT+gGuideMgr.liftT)},this,gGuideMgr.delayTimer+gGuideMgr.liftT),this.show()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.createLight=function(){var t;return t=this.lightPool&&this.lightPool.length>0?this.lightPool.shift():new eui.Image(this.light.source),gTween.rmTweens(t),t},e.prototype.removeLight=function(t){this.lightPool||(this.lightPool=[]),gTween.rmTweens(t),gComMgr.rmObj(t),this.lightPool.push(t)},e.prototype.addLight=function(){var t=this,e=this.con,i=this.createLight();i.alpha=0,i.scaleX=i.scaleY=0,e.addChild(i),gComMgr.setItemAnchor(i);var o=1500,a=500;egret.Tween.get(i).to({alpha:1},a),egret.Tween.get(i).to({scaleX:3,scaleY:3},o),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},a).call(function(){t.removeLight(i)})},this,o-a)},e.prototype.hide=function(){var e=this;egret.clearInterval(this.addLightDelay),gTween.fadeOut(this.con,300,1,void 0,void 0,{callback:function(){t.prototype.hide.call(e)}})},e}(t.ComFile);t.ComLight=e,__reflect(e.prototype,"com.ComLight")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComNav,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.initBg(),this.updateRender(2,10),this.updateRender(6,10),this.ok2.visible=!1,this.ok6.visible=!1},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType?(this.con.width=this.bg.height,this.con.height=this.bg.width,this.bg.rotation=90,this.item0.horizontalCenter=0/0,this.item0.top=0/0,this.item1.horizontalCenter=0/0,this.item1.bottom=0/0,this.item0.verticalCenter=0,this.item0.left=100,this.item1.verticalCenter=0,this.item1.right=100):(this.con.width=this.bg.width,this.con.height=this.bg.height,this.bg.rotation=0,this.item0.verticalCenter=0/0,this.item0.left=0/0,this.item1.verticalCenter=0/0,this.item1.right=0/0,this.item0.horizontalCenter=0,this.item0.top=100,this.item1.horizontalCenter=0,this.item1.bottom=100),this.parent&&(this.parent.width=this.con.width,this.parent.height=this.con.height)},e.prototype.getTarget=function(t){return this["target"+t]},e.prototype.change=function(t,e){var i=this["num"+t];i&&(i.cnt+=e,this.updateRender(t))},e.prototype.updateRender=function(t,e){var i=this["num"+t];if(i){if(e=void 0!=e?e:i.cnt,0>e&&(e=0),i.cnt=e,0==e){var o=this["ok"+t];o&&(i.visible=!1,o.visible=!0),gSoundMgr.playEff("smfinish")}i.text=gMath.switchNum(e)}},e.prototype.initBg=function(){gComMgr.setObjAnchor(this.bg)},e}(t.ComFile);t.ComNav=e,__reflect(e.prototype,"com.ComNav")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComNpc,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=this.con,e=this.npc,i=this.npcDebug,o=this.npcDieDebug;gConst.debugModel?(i.visible=!0,o.visible=!0):(i.visible=!1,o.visible=!1),gComMgr.setObjSize(i,!0),e.width=i.width,e.height=i.height,gComMgr.setItemAnchor(t,!1),this.loadNpc()},e.prototype.start=function(){this.die(null),this.playIdle()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(e,i,o,a){return void 0===i&&(i=this.startMove),void 0===o&&(o=this),e?void gTween.fadeIn(this,300,1,void 0,{duration:500},{callback:i,thisObj:o,params:a}):(t.prototype.show.call(this),void(i&&i.call.apply(i,[o].concat(a))))},e.prototype.hide=function(e,i,o,a){return void 0===i&&(i=gPeople.removeAi),void 0===o&&(o=gPeople),void 0===a&&(a=[this]),e?void gTween.fadeOut(this,300,1,void 0,{duration:500},{callback:i,thisObj:o,params:a}):(t.prototype.hide.call(this),void(i&&i.call.apply(i,[o].concat(a))))},e.prototype.loadNpc=function(){var t=this.npc;t.open(),t.setData([new data.McData(gConst.stateName[0],12,"xlz_idle_{1}_png",{minBit:2}),new data.McData(gConst.stateName[2],18,"xlz_bw_{1}_png",{minBit:2}),new data.McData(gConst.stateName[5],5,"xlz_shot_{1}_png",{minBit:2}),new data.McData(gConst.stateName[4],6,"xlz_bf_{1}_png",{minBit:2})])},e.prototype.initPeople=function(){var t=this.npc;t.x=0,t.y=0},e.prototype.playIdle=function(){var t=this.npc,e=this.id=0;this.initPeople(),t.gotoAndPlay(gConst.stateName[e])},e.prototype.playDropDown=function(){var t=this.npc,e=this.id=1;this.initPeople(),t.gotoAndPlay(gConst.stateName[e],1)},e.prototype.playWalk=function(){var t=this.npc,e=this.id=2;this.initPeople(),t.gotoAndPlay(gConst.stateName[e])},e.prototype.playShot=function(){var t=this.npc,e=this.id=5;this.initPeople(),t.gotoAndPlay(gConst.stateName[e],1)},e.prototype.playDie=function(){var t=this.conParticles,e=this.npc,i=this.npcDieDebug,o=this.id=4,a=this.particleId;void 0==a&&(a=this.particleId=this.createParticles(t,["blood"],"blood",void 0,!1)),this.startParticle(a,500),this.initPeople(),e.x=i.x,e.y=i.y,e.gotoAndPlay(gConst.stateName[o],1)},e.prototype.die=function(t){return void 0===t?this._die:void(this._die=t)},e.prototype.startMove=function(){},e.prototype.move=function(t,e,i,o,a,r,n){void 0===e&&(e=t.x),void 0===i&&(i=t.y),void 0===o&&(o=500);for(var s=[],h=7;h<arguments.length;h++)s[h-7]=arguments[h];var c=gMath.getTimeBySpeed(t.x,t.y,e,i,o);return gTween.toMove(t,e,i,{x:c},void 0,void 0,a,void 0,{callback:function(){r&&r.call.apply(r,[n].concat(s))}}),c},e}(t.ComFile);t.ComNpc=e,__reflect(e.prototype,"com.ComNpc")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._direction=2,e.initS=1,e.firstBirth=!0,e.nextDie=!1,e.skinName=skins.ComPeople,e}return __extends(e,t),e.prototype.init=function(t,e){this.pos=t,this.comHouse=e,this.type=gMath.getRandomAnswer(1,2,3,4),this.initPos()},e.prototype.load=function(){var t=this.con,e=this.people;gComMgr.setItemAnchor(e),e.y=e.anchorOffsetY=e.height,gComMgr.setItemAnchor(t),t.y=t.anchorOffsetY=t.height,this.anchorOffsetY=this.height},e.prototype.start=function(){this.firstBirth=!0,this.nextDie=!1,this.updateRender()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(e,i,o,a){return void 0===i&&(i=this.startMove),void 0===o&&(o=this),e?void gTween.fadeIn(this,300,1,void 0,{duration:500},{callback:i,thisObj:o,params:a}):(t.prototype.show.call(this),void(i&&i.call.apply(i,[o].concat(a))))},e.prototype.hide=function(e,i,o,a){return void 0===i&&(i=gPeople.removeAi),void 0===o&&(o=gPeople),void 0===a&&(a=[this]),e?void gTween.fadeOut(this,300,1,void 0,{duration:500},{callback:i,thisObj:o,params:a}):(t.prototype.hide.call(this),void(i&&i.call.apply(i,[o].concat(a))))},e.prototype.posId=function(t){return void 0==t?this._posId:void(this._posId=t)},e.prototype.getPosPeople=function(t){var e=this.comHouse;if(e&&t&&!(t.length<1))return e["posPeople_"+t[0]+"_"+t[1]]},e.prototype.initPos=function(){this.posId(0);var t=this.getPosPeople(this.pos);this.x=t.x,this.y=t.y},e.prototype.nextPos=function(){var t=this.pos,e=[],i=t[0],o=t[1],a=function(t){if(t){var i=gPeople.allPos;(!i||gDevelop.arrHasVal(i,t))&&e.push(t)}};i>0&&a.call(this,[i-1,o]),i<gPeople.maxRow-1&&a.call(this,[i+1,o]),o>0&&a.call(this,[i,o-1]),o<gPeople.maxCol-1&&a.call(this,[i,o+1]);var r=gMath.getRandomAnswer.apply(gMath,e);return r},e.prototype.startMove=function(){var t=this;if(this.nextDie)return void this.dispatchEventWith(gConst.eventType.REMOVE_OBJ,void 0,this);var e=this.nextPos();if(!e)return void this.dispatchEventWith(gConst.eventType.REMOVE_OBJ,void 0,this);var i=this.getDirectionByNext(e);this.direction(i);var o=this.getPosPeople(e);this.nextDie=gDevelop.arrHasVal(gPeople.diePos,e);var a=gMath.getRandomInteger(250,200);this.move(this,o.x,o.y,a,void 0,function(){t.pos=e,t.startMove()})},e.prototype.getDirectionByNext=function(t){if(t&&!(t.length<1)){var e,i=this.pos,o=i[0],a=i[1],r=t[0],n=t[1];return e=o==r?n>a?0:3:r>o?1:2}},e.prototype.direction=function(t){if(void 0==t)return this._direction;var e=this._direction!=t;e&&(this._direction=t,this.updateRender())},e.prototype.updateRender=function(){var t=this.direction(),e=t%2,i=t>=2?-1:1,o=this.con,a=this.people;a.source="people"+this.type+"_"+e+"_ui_png",gComMgr.setItemAnchor(a),a.y=a.anchorOffsetY=a.height,gComMgr.setItemAnchor(o),o.y=o.anchorOffsetY=o.height,this.anchorOffsetY=this.height,a.scaleX=this.initS*i},e.prototype.move=function(t,e,i,o,a,r,n){void 0===e&&(e=t.x),void 0===i&&(i=t.y),void 0===o&&(o=500);for(var s=[],h=7;h<arguments.length;h++)s[h-7]=arguments[h];var c=gMath.getTimeBySpeed(t.x,t.y,e,i,o);return gTween.toMove(t,e,i,{x:c},void 0,void 0,a,void 0,{callback:function(){r&&r.call.apply(r,[n].concat(s))}}),c},e}(t.ComFile);t.ComPeople=e,__reflect(e.prototype,"com.ComPeople")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.loadingAngle=0,e.skinName=skins.ComProgress,e}return __extends(e,t),e.prototype.init=function(t){this.comHouse=t},e.prototype.load=function(){var t=this.bar,e=this.conBar,i=this.con;gComMgr.setObjSize(t,!0),gComMgr.setObjSize(e,!0),gComMgr.setObjSize(i,!0),this.initGraphics()},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e,1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.initGraphics=function(){var t=this.bar;gComMgr.setObjSize(t);var e=this._shape=new egret.Shape;e.x=t.x+t.width/2,e.y=t.y+t.height/2,t.parent.addChildAt(e,t.parent.getChildIndex(t)),this.bar.mask=e},e.prototype.startLoading=function(){if(!this.barLoading){this.barLoading=!0;this._shape;this.resetLoading()}},e.prototype.stopLoading=function(){this.barLoading&&(this.barLoading=!1,this.loadingTime&&(this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop()),this.loadingAngle=0,this.changeGraphics(this.loadingAngle))},e.prototype.resetLoading=function(){var t=this.comHouse;if(t){var e=t.id,i=t.lv,o=GameMgr.getConfig("barTimes"+e);if(o&&!(o.length<i)){var a=1,r=360,n=1e3*o[i-1],s=18,h=n/s/a,c=r/h;this.chgAngle=c,this.loadingTime&&(this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop(),this.loadingTime=null),this.loadingTime?(this.loadingTime.delay=s,this.loadingTime.repeatCount=h+1):(this.loadingTime=new egret.Timer(s,h+1),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.addEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this)),this.loadingAngle=0,this.changeGraphics(this.loadingAngle),this.loadingTime.start()}}},e.prototype.drawStart=function(t){this.changeGraphics(this.loadingAngle),this.loadingAngle+=this.chgAngle,this.loadingAngle>360&&(this.loadingAngle=this.loadingAngle%360)},e.prototype.drawComplete=function(t){this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop(),this.barLoading=!1,this.dispatchEventWith(egret.Event.COMPLETE)},e.prototype.fastComlete=function(){this.loadingTime&&(this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop(),this.loadingTime=null)},e.prototype.changeGraphics=function(t){var e=this._shape;e.graphics.clear(),e.graphics.beginFill(65535,1),e.graphics.moveTo(0,0),e.graphics.lineTo(50,0),e.graphics.drawArc(0,0,50,0,t*Math.PI/180,!1),e.graphics.lineTo(0,0),e.graphics.endFill()},e}(t.ComFile);t.ComProgress=e,__reflect(e.prototype,"com.ComProgress")}(com||(com={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function o(o){e.call(i,o,t)}if(RES.hasRes(t)){var a=RES.getRes(t);a?o(a):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var data;!function(t){var e=function(){function t(){}return t}();t.ConfigData=e,__reflect(e.prototype,"data.ConfigData")}(data||(data={}));var data;!function(t){var e=function(){function t(){}return t.config=function(t){return this._config[t]},t}();e._config={1:{name:"p_hen_left_png",location:"top",x:268,y:160,y2:190,goalX:600,lastLayer:2,scaleX:-.8,scaleY:.8},2:{name:"p_machine1_2_png",location:"top",x:500,y:230,goalX:1238,lastLayer:2},3:{name:"p_machine1_2_png",location:"bottom",x:-108,y:196,goalX:682,lastLayer:1},4:{name:"p_machine2_2_png",location:"bottom",x:684,y:210,goalX:1624,lastLayer:1}},t.EndViewData=e,__reflect(e.prototype,"data.EndViewData")}(data||(data={}));var data;!function(t){var e=function(){function t(){this.init()}return t.prototype.init=function(){this.horizontal={x:0,y:0},this.vertical={x:0,y:0},this.topSpace=.05,this.rightSpace=10,this.bottomSpace=.01,this.leftSpace=.01,this.horRatio=null,this.verRatio=null,this.horSpace=null,this.verSpace=null,this.center=null,this.centerOffset=null,this.scale=1},t}();t.FirstData=e,__reflect(e.prototype,"data.FirstData")}(data||(data={}));var data;!function(t){var e=function(){function t(){}return t.prototype.setData=function(t){this.updateData(t,!1),this.speedMax=void 0!=this.speedMax?this.speedMax:10,this.rotateMax=void 0!=this.rotateMax?this.rotateMax:0,this.rotateDiff=void 0!=this.rotateDiff?this.rotateDiff:.1,this.alphaMax=void 0!=this.alphaMax?this.alphaMax:1,this.alphaDiff=void 0!=this.alphaDiff?this.alphaDiff:.01,this.scaleMax=void 0!=this.scaleMax?this.scaleMax:1,this.scaleDiff=void 0!=this.scaleDiff?this.scaleDiff:.005,this.initDefault()},t.prototype.updateData=function(t,e){void 0===e&&(e=!0),t&&(void 0!=t.floatAnswers&&(this.floatAnswers=t.floatAnswers),void 0!=t.dires&&(this.dires=t.dires),void 0!=t.speedMax&&(this.speedMax=t.speedMax),void 0!=t.speedMin&&(this.speedMin=t.speedMin),void 0!=t.rotateMax&&(this.rotateMax=t.rotateMax),void 0!=t.rotateMin&&(this.rotateMin=t.rotateMin),void 0!=t.rotateDiff&&(this.rotateDiff=t.rotateDiff),void 0!=t.alphaMax&&(this.alphaMax=t.alphaMax),void 0!=t.alphaMin&&(this.alphaMin=t.alphaMin),void 0!=t.alphaDiff&&(this.alphaDiff=t.alphaDiff),void 0!=t.scaleMax&&(this.scaleMax=t.scaleMax),void 0!=t.scaleMin&&(this.scaleMin=t.scaleMin),void 0!=t.scaleDiff&&(this.scaleDiff=t.scaleDiff),void 0!=t.isAllAlpha&&(this.isAllAlpha=t.isAllAlpha),void 0!=t.isAdaptiveScale&&(this.isAdaptiveScale=t.isAdaptiveScale),void 0!=t.floatMaxCnt&&(this.floatMaxCnt=t.floatMaxCnt)),e&&this.initDefault()},t.prototype.initDefault=function(){this.speedMin=void 0!=this.speedMin?this.speedMin:this.speedMax,this.rotateMin=void 0!=this.rotateMin?this.rotateMin:this.rotateMax,this.alphaMin=void 0!=this.alphaMin?this.alphaMin:this.alphaMax,this.scaleMin=void 0!=this.scaleMin?this.scaleMin:this.scaleMax},t}();t.FloatData=e,__reflect(e.prototype,"data.FloatData")}(data||(data={}));var data;!function(t){var e=function(){function t(t,e,i,o){void 0===o&&(o={}),this.fName="1",this.direct=1,this.fName=t,this.frameCnt=e,this.frameName=i,this.backplay=o.backplay||!1,this.firstIndex=o.firstIndex||1,this.order=o.order,this.minBit=o.minBit}return t}();t.McData=e,__reflect(e.prototype,"data.McData")}(data||(data={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=2,e.skinName=skins.ComBox,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=this.con,e=this.bottomLayer,i=this.topLayer;this.touchChildren=!1,gComMgr.setItemAnchor(e),gComMgr.setItemAnchor(t),this.initY=t.y,gComMgr.setObjSize(i)},e.prototype.start=function(){this.playIdle()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.initBox=function(){var t=this.con,e=this.topLayer;gTween.rmTweens(t),gTween.rmTweens(e),t.y=this.initY,e.y=0},e.prototype.playIdle=function(){var t=this.con,e=this.topLayer;this.id=0;this.initBox(),t.visible=!0,gTween.loopFloat(t,10,1e3,this.initY),gTween.loopFloat(e,5,1e3,0)},e.prototype.playDropDown=function(t){void 0===t&&(t=1e3);var e=this.con,i=this.topLayer,o=(this.id=1,e.height-i.height);this.initBox(),gTween.toMoveY(i,o,t,0)},e.prototype.playStand=function(){var t=this.con,e=this.topLayer,i=(this.id=3,t.height-e.height);this.initBox(),e.y=i},e.prototype.playDie=function(){this.playStand();var t=this.con;this.id=4;gTween.fadeOut(t)},e.prototype.die=function(t){return void 0===t?this._die:void(this._die=t)},e}(t.ComFile);t.ComBox=e,__reflect(e.prototype,"com.ComBox")}(com||(com={}));var com;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName=skins.ComCell,t}return __extends(i,e),i.prototype.init=function(t){this.id=t},i.prototype.load=function(){this.touchChildren=!1},i.prototype.start=function(){this.clearState();var t=this.item;this.id>0?t.source="pBall"+gConst.cellSkin[this.id]+"_png":t.source="",gComMgr.setItemAnchor(t);var e=this.width=this.height=80,i=e/2;this.con.x=i,this.con.y=i},i.prototype.stop=function(){},i.prototype.update=function(){},i.prototype.addEvent=function(){},i.prototype.removeEvent=function(){},i.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},i.prototype.rotateView=function(t){1==GameMgr.screenType},i.prototype.clearState=function(){this.bojing=null,this.hited=null,this.fitHeadAndTail=null,this.headAndTail=null},i.prototype.bodong=function(){egret.Tween.get(this.item).to({scaleX:1.3,scaleY:1.3},240).to({scaleX:1,scaleY:1},240)},i.prototype.changeSkin=function(t){var e=this;void 0===t&&(t=1);var i=this.item;egret.Tween.get(i).to({scaleX:1.1,scaleY:1.1},100).to({scaleX:0,scaleY:0},100).call(function(){1==t&&gSoundMgr.playEff("smgrow"),i.source="ptool"+t+"_png",gComMgr.setObjAnchor(i),e.id=100+t,gTween.toScale(i,1,300,0,egret.Ease.bounceOut)},this)},i.prototype.shake=function(t){void 0===t&&(t=1e3),egret.Tween.get(this.item).wait(t).to({y:this.initY-4},100).call(this.shakeBm,this)},i.prototype.stopShake=function(){var t=this.item;t.x=this.initX,t.y=this.initY,t.rotation=0,egret.Tween.removeTweens(t)},i.prototype.dispose=function(e,i){var o=this;void 0===i&&(i=!0);var a=function(){i&&(gComMgr.destory(o.item),gComMgr.destory(o.con),gComMgr.destory(o))},r=function(){gTween.toBigHide(o.con,1.3,200,1,1,void 0,void 0,{callback:function(){a.call(o)}})},n=function(){r.call(o)},s=function(e){o.con.visible=!i;var r=new t.ComBones,n=gComMgr.toGlobal(o.con),s=GameMgr.gameview;n=gComMgr.toLocal(s,n.x,n.y,n),r.setData(s.parent,"ppeople",!0);var h=1;1==e&&(h=1.5),r.setPos({x:n.x,y:n.y}),r.setScale(h),r.create(),r.armatureDisplay.once(egret.Event.COMPLETE,a,o),r.play("effect"+e,1,!0)},h=function(){var t=new eui.Image("plight_png");o.con.addChild(t),gComMgr.setObjAnchor(t);var e=o.item;t.x=e.x,t.y=e.y,t.alpha=0,gTween.fadeIn(t,300,1),n.call(o)},c=function(){var t=new util.ShakeTool;o.item.once(egret.Event.COMPLETE,function(){r.call(o)},o),t.shakeObj(o.item,200,20,5,5,void 0,void 0)};if(void 0!=e)switch(e){case 0:n.call(this);break;case 1:s.call(this,1);break;case 2:s.call(this,2);break;case 3:h.call(this);break;case 4:c.call(this)}else a.call(this)},i.prototype.playcom=function(t){var e=this,i=t.target;egret.Tween.get(i).to({scaleX:1.2,scaleY:1.2,alpha:0},140).call(function(){e.parent&&e.parent.removeChild(e)},this)},i.prototype.shakeBm=function(){egret.Tween.get(this.item).to({rotation:-10},70).to({rotation:10},140).to({rotation:-10},140).to({rotation:10},140).to({rotation:-10},140).to({rotation:10},140).to({rotation:0},70).call(this.downBm,this)},i.prototype.downBm=function(){egret.Tween.get(this.item).to({y:this.initY},100).wait(500).call(this.shake,this,[0])},i.prototype.playTouch=function(){var t=this.item,e=new eui.Image(t.source);e.anchorOffsetX=t.anchorOffsetX,e.anchorOffsetY=t.anchorOffsetY,e.x=t.x,e.y=t.y,gTween.toBigHide(e,1.8,300,1,1,egret.Ease.sineInOut,void 0,{callback:gComMgr.rmObj,thisObj:gComMgr,params:[e]}),t.parent.addChild(e)},i}(t.ComFile);t.ComCell=e,__reflect(e.prototype,"com.ComCell")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e}(t.ComFile);t.ComEmpty=e,__reflect(e.prototype,"com.ComEmpty")}(com||(com={}));var item;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return __extends(e,t),e.prototype.init=function(){this.initScaleX=this.scaleX,this.initScaleY=this.scaleY},e.prototype.id=function(t){return void 0==t?this._id:void(this._id=t)},e.prototype.passId=function(t){return void 0==t?this._passId:void(this._passId=t)},e.prototype.itemId=function(t){return void 0==t?this._itemId:void(this._itemId=t)},e.prototype.relateId=function(t){return void 0==t?this._relateId:void(this._relateId=t)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},e.prototype.level=function(t){return void 0==t?this._level:void(this._level=t)},e.prototype.triggered=function(t){return void 0==t?this._triggered:void(this._triggered=t)},e}(eui.Group);t.ItemGroupBase=e,__reflect(e.prototype,"item.ItemGroupBase")}(item||(item={}));var item;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.init(),i}return __extends(e,t),e.prototype.init=function(){this.initScaleX=this.scaleX,this.initScaleY=this.scaleY,this.triggered(!1)},e.prototype.id=function(t){return void 0==t?this._id:void(this._id=t)},e.prototype.passId=function(t){return void 0==t?this._passId:void(this._passId=t)},e.prototype.itemId=function(t){return void 0==t?this._itemId:void(this._itemId=t)},e.prototype.relateId=function(t){return void 0==t?this._relateId:void(this._relateId=t)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},e.prototype.level=function(t){return void 0==t?this._level:void(this._level=t)},e.prototype.triggered=function(t){return void 0==t?this._triggered:void(this._triggered=t)},e}(eui.Image);t.ItemImgBase=e,__reflect(e.prototype,"item.ItemImgBase")}(item||(item={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;
return e.canshow=!1,e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),window.app=this,this.createGame()},e.prototype.showGame=function(){this.showGameed||(this.showGameed=!0,this.canshow=!0,this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.canshow&&this.startCreateScene())},e.prototype.createGame=function(){gSoundMgr.init();var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),GameMgr.stage=this.stage;var e=egret.getOption("lan");e&&(GameMgr.lan=e)},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.isResourceLoadEnd=!0,this.createScene(),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this))},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(Mapi.gameReady(),this.canshow&&this.startCreateScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.startCreateScene=function(){this.currentV||(this.currentV=new MainView,this.addChild(this.currentV))},e}(eui.UILayer);__reflect(Main.prototype,"Main");var GameMgr=function(){function t(){}return t.init=function(){gGuideMgr.init(),this.isEnd=!1,this.endType=null,this.auto=!1,this.passId=0,this.lv=1,this.stepId=1,this.clickCnt=0,this.avoiding=!1,this.currHouseId=0,this.gold=0,this.firstToMaxLv=!1,this.showCurtainFull=!1,this.isVip=!1},t.getConfig=function(t){var e=RES.getRes("gameConfig_json");if(e[t])return e[t];if(e.gameConfig&&e.gameConfig[t])return e.gameConfig[t];var i=e.gameDifficulty,o=e.gameConfig[i];return o&&o[t]?o[t]:null},Object.defineProperty(t,"getWinW",{get:function(){var t=window.adWidth||window.innerWidth;if(window.MW_CONFIG&&"vungle"==MW_CONFIG.channel){var e=document.body;t=e.offsetWidth}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getWinH",{get:function(){var t=window.adHeight||window.innerHeight;if(window.MW_CONFIG&&"vungle"==MW_CONFIG.channel){var e=document.body;t=e.offsetHeight}return t},enumerable:!0,configurable:!0}),t.replay=function(){this.isReplay=!0,this.replayCnt++,this.gameview.replay()},t.isShowReplay=function(){if(0==t.endType){var e=t.getConfig("playAgain");if(e&&(0>e||t.replayCnt<e))return!0}return!1},t.replayInstall=function(){if(0==t.endType){var e=t.getConfig("playAgain");return e&&(0>e||t.replayCnt<e)?!1:!0}return!1},Object.defineProperty(t,"isEnd",{get:function(){return this._isEnd},set:function(t){this._isEnd=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"endType",{get:function(){return this._endType},set:function(t){this._endType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"auto",{get:function(){return this._auto},set:function(t){this._auto=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lv",{get:function(){return this._lv},set:function(t){this._lv=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"firstToMaxLv",{get:function(){return this._firstToMaxLv},set:function(t){this._firstToMaxLv=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"showCurtainFull",{get:function(){return this._showCurtainFull},set:function(t){this._showCurtainFull=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isVip",{get:function(){return this._isVip},set:function(t){this._isVip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"gold",{get:function(){return this._gold},set:function(t){Math.max(t,0),Math.min(t,this.maxGold),this._gold=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"passId",{get:function(){return this._passId},set:function(t){this._passId=t},enumerable:!0,configurable:!0}),t.getPass=function(t){return void 0===t&&(t=this.passId),this.passCfg[t]},t.getMaxPeople=function(){return 5+3*this.currHouseId},t.getMaxCar=function(){return 10*(this.currHouseId+1)},t.getPosCar=function(t){var e=this.gameview;if(e&&t&&!(t.length<1))return e["posCar_"+t[0]+"_"+t[1]]},Object.defineProperty(t,"stepId",{get:function(){return this._stepId},set:function(t){this._stepId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"avoiding",{get:function(){return this._avoiding},set:function(t){this._avoiding=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"clickCnt",{get:function(){return this._clickCnt},set:function(t){this._clickCnt=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currHouseId",{get:function(){return this._currHourseId},set:function(t){t>this.maxHourseId||(this._currHourseId=t)},enumerable:!0,configurable:!0}),t}();GameMgr.screenType=null,GameMgr.mobileType=null,GameMgr.lan="us",GameMgr.isReplay=!1,GameMgr.replayCnt=0,GameMgr._isEnd=!1,GameMgr._auto=!1,GameMgr.maxPassId=1,GameMgr.screenMaxRow=7,GameMgr.screenMaxCol=7,GameMgr._passId=0,GameMgr.maxLv=3,GameMgr._lv=1,GameMgr._stepId=1,GameMgr._clickCnt=0,GameMgr.maxHourseId=3,GameMgr.maxCanBuildId=2,GameMgr._currHourseId=0,GameMgr._gold=0,GameMgr.maxGold=999999999,GameMgr._firstToMaxLv=!1,GameMgr._showCurtainFull=!1,GameMgr._isVip=!1,GameMgr.houseCfg={0:{id:0,flagId:1},1:{id:1,flagId:0},2:{id:2,flagId:0},3:{id:3,flagId:0},4:{id:4,flagId:2},5:{id:5,flagId:2}},GameMgr.passCfg={0:new data.UnlockData(0,[{id:0,x:27.5,keyPinH:71,finish:!1},{id:1,x:73.5,keyPinH:65,finish:!1},{id:2,x:119.5,keyPinH:72,finish:!1},{id:3,x:163.5,keyPinH:71,finish:!1},{id:4,x:208.5,keyPinH:71,finish:!0}],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],[18,19]),1:new data.UnlockData(1,[{id:0,x:16.5,keyPinH:74,finish:!1},{id:1,x:56.5,keyPinH:65,finish:!1},{id:2,x:96.5,keyPinH:73,finish:!1},{id:3,x:137.5,keyPinH:72,finish:!1},{id:4,x:177.5,keyPinH:64,finish:!1},{id:5,x:217.5,keyPinH:65,finish:!0}],[25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,21,22,23,24],[51,52])},__reflect(GameMgr.prototype,"GameMgr");var MainView=function(t){function e(){var e=t.call(this)||this;return GameMgr.init(),GameMgr.mainView=e,GameMgr.gameview=new scene.GameScene,GameMgr.gameview.open(),e.addEventListener(egret.Event.ENTER_FRAME,e.update,e),e.addChild(GameMgr.gameview),e}return __extends(e,t),e.prototype.update=function(t){var e=GameMgr.getWinW;this.curw!=e&&this.resizeView()},e.prototype.initResizeView=function(t){var e,i=GameMgr.getWinW,o=GameMgr.getWinH,a=null===GameMgr.screenType||t;GameMgr.stage.stageWidth<GameMgr.stage.stageHeight?(0===GameMgr.screenType&&(a=!0),GameMgr.screenType=1,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,e=GameMgr.stage.stageWidth/GameMgr.stage.stageHeight):(1===GameMgr.screenType&&(a=!0),GameMgr.screenType=0,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT,e=GameMgr.stage.stageHeight/GameMgr.stage.stageWidth),GameMgr.mobileType=.51>e?1:.65>e?2:3,this.curw=i;var r,n;return i>o?(n=750,r=750/o*i,GameMgr.stage.orientation=egret.OrientationMode.LANDSCAPE):(r=750,n=750/i*o,GameMgr.stage.orientation=egret.OrientationMode.PORTRAIT),GameMgr.gameview&&(GameMgr.gameview.width=Math.ceil(r),GameMgr.gameview.height=Math.ceil(n)),GameMgr.scale=1,a},e.prototype.resizeView=function(t,e){var i=this.initResizeView(e);this._resizeView(),i&&this._rotateView()},e.prototype._resizeView=function(){GameMgr.gameview&&GameMgr.gameview.resizeView()},e.prototype._rotateView=function(){GameMgr.gameview&&GameMgr.gameview.rotateView()},e}(eui.Component);__reflect(MainView.prototype,"MainView");var Mapi=function(){function t(){}return t.sendAction=function(t,e){void 0===e&&(e=!0),void 0==e&&(e=!0),e&&this.actionedLog[t]||(this.actionedLog[t]=!0,sendAction(t))},t.gameReady=function(){this.gameReadyed||(this.gameReadyed=!0,ready())},t.install=function(){gameInstall()},t.gameEnd=function(){this.gameEnded||(this.gameEnded=!0,end())},t.gameRetry=function(){this.gameEnded=!1,retry()},t}();Mapi.actionedLog={},__reflect(Mapi.prototype,"Mapi");var scene;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isLoadRes=null,t.isFirstOpen=!0,t.firstTouch=!0,t.gridDic={},t.skillProgress=0,t.playerAction=!1,t.victory=!1,t.goldSpace=10,t.isOpenChat=!0,t.skinName=skins.GameScene,t.initBg(),t}return __extends(i,e),i.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=GameMgr.mainView;this.init.apply(this,t),this.isFirstOpen&&i.initResizeView(this.isFirstOpen),this.createChildren2(),this.isLoadRes||(this.isLoadRes=!0,this.load()),i.resizeView(void 0,this.isFirstOpen),GameMgr.stage.removeEventListener(egret.Event.RESIZE,i.resizeView,i),GameMgr.stage.addEventListener(egret.Event.RESIZE,i.resizeView,i),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},i.prototype.end=function(){var t=GameMgr.mainView;this.isLoadRes=!1,GameMgr.stage.removeEventListener(egret.Event.RESIZE,t.resizeView,t),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),gComMgr.rmEvent(this),this.stop()},i.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},i.prototype.load=function(){},i.prototype.start=function(){this.openFirst(),this.firstTouch=!0,this.autoEnd(),this.endToNoOperation(),this.initProgress(),this.tipsEnter(),this.loadMovieClip(),this.boyEnter()},i.prototype.stop=function(){},i.prototype.update=function(){},i.prototype.addEvent=function(){this.guide_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.boyAction1,this),this.guide_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.boyAction2,this),this.guide_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.boyAction3,this),this.con.addEventListener(egret.TouchEvent.TOUCH_TAP,this.wrongTap,this)},i.prototype.removeEvent=function(){this.guide_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.boyAction1,this),this.guide_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.boyAction2,this),this.guide_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.boyAction3,this),this.con.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.wrongTap,this)},i.prototype.gameEnd=function(){Mapi.gameEnd(),this.UiFirst.updateDir({horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_BOTTOM}),this.UiFirst.gameEnd()},i.prototype.createChildren2=function(){},i.prototype.resizeView=function(){this.dispatchEventWith(gConst.eventType.RESIZE_VIEW);var t=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.progress_con.scaleX=this.progress_con.scaleY=this.con.scaleX=this.con.scaleY=t,this.tips_word1.scaleX=this.tips_word1.scaleY=this.tips_word2.scaleX=this.tips_word2.scaleY=t,1==GameMgr.screenType)switch(this.progress_con.right=0/0,this.progress_con.horizontalCenter=0,this.progress_con.y=.18*this.height,this.tips.width=this.width,this.tips.bottom=-10,this.tips_word1.left=0/0,this.tips_word2.left=0/0,this.tips_word1.horizontalCenter=0,this.tips_word2.horizontalCenter=0,this.tips_word1.y=23,this.tips_word2.y=74,this.con_ele.horizontalCenter=0/0,this.con_ele.x=0,GameMgr.mobileType){case 1:break;case 2:break;case 3:this.tips.bottom=-70}else switch(this.progress_con.horizontalCenter=0/0,this.progress_con.right=.05*this.width,this.progress_con.y=.1*this.height,this.tips.bottom=0/0,this.tips.y=.85*this.height,this.tips.width=this.width,this.tips_word1.left=20,this.tips_word1.horizontalCenter=0/0,this.tips_word2.horizontalCenter=0/0,this.tips_word2.x=t*this.tips_word1.width+40,this.tips_word1.y=40,this.tips_word2.y=35,this.con_ele.horizontalCenter=193,GameMgr.mobileType){case 1:break;case 2:break;case 3:}},i.prototype.rotateView=function(){this.dispatchEventWith(gConst.eventType.ROTATE_VIEW)},i.prototype.replay=function(){this.destroy(),GameMgr.init(),GameMgr.gameview=new t.GameScene,GameMgr.gameview.open(),this.parent&&(this.parent.addChild(GameMgr.gameview),this.parent.removeChild(this)),Mapi.gameRetry()},i.prototype.destroy=function(){this.UiFirst&&this.UiFirst.destroy(),this.UiEnd&&this.UiEnd.destroy(),this.removeEvent()},i.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},i.prototype.autoEnd=function(){var t=GameMgr.getConfig("autoEndTime");void 0!=t&&t>0&&(egret.clearTimeout(this.endDelay),this.endDelay=egret.setTimeout(this.openEnd,this,1e3*t))},i.prototype.endToNoOperation=function(){if(!GameMgr.isEnd&&gGuideMgr.lastGuideFinish()){var t=gConst.endToNoOperationTimer;void 0!=t&&t>0&&(egret.clearTimeout(this.endToNoOperationDelay),this.endToNoOperationDelay=egret.setTimeout(this.openEndFail,this,t))}},i.prototype.initBg=function(){this.con},i.prototype.tipsEnter=function(){gTween.toTopShow(this.tips,800,300,void 0,1,egret.Ease.quadOut)},i.prototype.wrongTap=function(t){gSoundMgr.playEff("smwrong")},i.prototype.loadMovieClip=function(){this.pboy_mc.open(),this.pboy_mc.bm.horizontalCenter=0,this.pboy_mc.bm.bottom=0,this.pboy_mc.setData([new data.McData("boy_walk",4,"pboy{1}_png",{minBit:2}),new data.McData("boy_shake",2,"pboy{1}_png",{firstIndex:5,minBit:2}),new data.McData("boy_go",1,"pboy0{1}_png",{firstIndex:7}),new data.McData("boy_lamp",1,"pboy0{1}_png",{firstIndex:8}),new data.McData("boy_fail_lamp",1,"pboy{1}_png",{firstIndex:11}),new data.McData("boy_fail_bed",1,"pboy0{1}_png",{firstIndex:9}),new data.McData("boy_success",1,"pboy{1}_png",{firstIndex:10}),new data.McData("boy_crawl_right",1,"pboy{1}_png",{firstIndex:12}),new data.McData("boy_crawl_left",1,"pboy{1}_png",{firstIndex:13})]),this.progress_girl_mc.open(),this.progress_girl_mc.setData([new data.McData("progress",2,"psmallgirl{1}_png"),new data.McData("progess_start",1,"psmallgirl{1}_png")]),this.progress_girl_mc.width=95,this.progress_girl_mc.anchorOffsetY=20,this.progress_girl_mc.gotoAndPlay("progess_start",1),this.pgirl_mc.open(),this.pgirl_mc.bm.horizontalCenter=0,this.pgirl_mc.bm.bottom=0,this.pgirl_mc.setData([new data.McData("girl_walk",4,"pgirl0{1}_png"),new data.McData("girl_shake",2,"pgirl0{1}_png",{firstIndex:4}),new data.McData("girl_find",1,"pgirl0{1}_png",{firstIndex:6})])},i.prototype.boyEnter=function(){var t=this,e=this.POS_boyStart,i=this.POS_peopleInit;this.pboy_mc.interval=180,this.pboy_mc.gotoAndPlay("boy_walk",1),gTween.toMove(this.pboy_con,e.x,e.y,{x:1e3,y:500},i.x,i.y,{x:egret.Ease.quadOut,y:egret.Ease.quadOut},void 0,{callback:function(){t.showGuide(),t.progressStart(),t.boyShakeHead()}})},i.prototype.boyShakeHead=function(){var t=this;this.pboy_mc.interval=500,this.pboy_mc.gotoAndPlay("boy_shake");var e=egret.setInterval(function(){t.pboy_mc.interval<=200||t.playerAction?egret.clearInterval(e):t.pboy_mc.interval-=50},this,1e3)},i.prototype.initProgress=function(){var t=this;this.progress_red.mask=this.progress_mask,this.progress_mask_con.width=0,egret.setTimeout(function(){gTween.toBigShow(t.progress_tips,300,void 0,void 0,egret.Ease.bounceOut,void 0,{callback:function(){gTween.loopFloat(t.progress_tips)}})},this,500)},i.prototype.progressStart=function(){var t=this;gTween.toWidthChange(this.progress_mask_con,15e3,this.progress_red.width,void 0,void 0,void 0,{callback:function(){t.playerAction||(gSoundMgr.playEff("smtimeup"),t.pgirl_con.x=t.POS_peopleInit1.x,t.pgirl_con.y=t.POS_peopleInit1.y,t.girlWalkTo({x:t.POS_girlWalk2.x,y:t.POS_girlWalk2.y},function(){t.girlFind(),t.boyFound("boy_fail_lamp")}))}}),this.progress_girl_mc.interval=200,this.progress_girl_mc.gotoAndPlay("progress"),egret.setTimeout(function(){var e=new util.ShakeTool,i=new util.ShakeTool;e.shakeObj(t.progress_girl_mc,7e3,15,5,5),i.shakeObj(t.progress_tips,7e3,15,5,5)},this,8e3)},i.prototype.progressStop=function(){gTween.rmTweens(this.progress_mask_con),this.progress_girl_mc.gotoAndStop("progress",1),this.removeEvent(),this.hideGuide(),this.playerAction=!0},i.prototype.boyAction1=function(t){var e=this;gSoundMgr.playEff("smclick"),this.victory=!0,this.progressStop();var i=this.POS_boyAction1,o=this.guide_1;this.pboy_con.scaleX=-1,this.pboy_mc.gotoAndPlay("boy_walk"),gTween.toMoveX(this.pboy_con,i.x,300,void 0,void 0,void 0,{callback:function(){e.pboy_mc.gotoAndPlay("boy_go"),gTween.toMove(e.pboy_con,o.x-100,o.y+40,{x:300,y:300},void 0,void 0,void 0,{duration:400},{callback:function(){e.pboy_con.scaleX=1;var t=gComMgr.toGlobal(e.pboy_con),i=gComMgr.toLocal(e.oldman_con,t.x,t.y,t);e.oldman_con.addChild(e.pboy_con),e.oldman_con.setChildIndex(e.pboy_con,3),e.pboy_con.x=i.x,e.pboy_con.y=i.y,e.pboy_mc.gotoAndPlay("boy_crawl_right"),gTween.toMoveX(e.pboy_con,e.pboy_con.x+80,300,void 0,void 0,void 0,{callback:function(){e.girlWalkTo({x:e.POS_girlWalk2.x,y:e.POS_girlWalk2.y},function(){e.girlShake(function(){e.pgirl_mc.interval=180,e.pgirl_mc.gotoAndPlay("girl_walk"),e.pgirl_con.scaleX=1,gSoundMgr.playEff("smrun"),gTween.toMoveX(e.pgirl_con,e.POS_peopleInit1.x,720,void 0,void 0,void 0,{callback:function(){e.pboy_con.x+=140,e.pboy_mc.gotoAndPlay("boy_success"),e.oldman_cover.visible=!1,e.cover_flipping.visible=!0,gTween.toMove(e.cover_flipping,e.cover_flipping.x-50,e.cover_flipping.y-50,{x:300,y:300},void 0,void 0,void 0,{duration:300},{callback:function(){e.cover_flipping.visible=!1,e.cover_flip.visible=!0,e.boySuccess()}})}})})})}})}})}})},i.prototype.boyAction2=function(t){var e=this;gSoundMgr.playEff("smclick"),this.progressStop();var i=this.POS_boyAction2,o=this.guide_2;this.pboy_mc.gotoAndPlay("boy_walk"),gTween.toMoveX(this.pboy_con,i.x,300,void 0,void 0,void 0,{callback:function(){e.pboy_mc.gotoAndPlay("boy_go"),gTween.toMove(e.pboy_con,o.x,o.y+50,{x:300,y:300},void 0,void 0,void 0,{duration:400},{callback:function(){var t=gComMgr.toGlobal(e.pboy_con),i=gComMgr.toLocal(e.oldman_con,t.x,t.y,t);e.oldman_con.addChild(e.pboy_con),e.oldman_con.setChildIndex(e.pboy_con,3),e.pboy_con.x=i.x,e.pboy_con.y=i.y,e.pboy_mc.gotoAndPlay("boy_crawl_left"),gTween.toMoveX(e.pboy_con,e.pboy_con.x-80,300,void 0,void 0,void 0,{callback:function(){e.girlWalkTo({x:e.POS_girlWalk2.x,y:e.POS_girlWalk2.y},function(){e.girlShake(function(){e.girlFind(),e.coverFlip(),e.pboy_con.rotation=-90,e.boyFound("boy_fail_bed")})})}})}})}})},i.prototype.boyAction3=function(t){var e=this;gSoundMgr.playEff("smclick"),this.progressStop();var i=this.POS_boyLamp1,o=this.POS_boyLamp2;this.pboy_mc.gotoAndPlay("boy_go"),gTween.toMove(this.pboy_con,i.x,i.y,{x:500,y:500},void 0,void 0,{x:egret.Ease.quadOut,y:egret.Ease.quadOut},void 0,{callback:function(){e.con_ele.setChildIndex(e.pboy_con,0),e.pboy_con.y=o.y,e.pboy_mc.gotoAndPlay("boy_lamp"),e.light_up.y=-100,egret.setTimeout(function(){e.girlWalkTo(e.POS_girlWalk1,function(){e.girlShake(function(){e.girlFind(),e.boyFound("boy_fail_lamp"),e.lampMove()})})},e,1e3)}})},i.prototype.boySuccess=function(){var t=this;egret.setTimeout(function(){t.openEnd()},this,800),gTween.toBottomHide(this.tips,300)},i.prototype.coverFlip=function(){this.oldman_cover.visible=!1,this.cover_flip.visible=!0,this.oldman.y-=30,this.oldman.source="poldman2_png",this.pboy_con.y-=70,this.pboy_con.x+=50},i.prototype.getBoyPOSbyGirl=function(){return this.pboy_con.x-this.pgirl_con.x>0},i.prototype.girlWalkTo=function(t,e){gSoundMgr.playEff("smrun"),this.getBoyPOSbyGirl()?this.pgirl_con.scaleX=1:this.pgirl_con.scaleX=-1,this.pgirl_mc.interval=180,this.pgirl_mc.gotoAndPlay("girl_walk"),gTween.toMoveX(this.pgirl_con,t.x,720,void 0,void 0,void 0,{callback:e})},i.prototype.girlShake=function(t){this.getBoyPOSbyGirl()?this.pgirl_con.scaleX=1:this.pgirl_con.scaleX=-1,this.pgirl_mc.interval=150,this.pgirl_mc.gotoAndPlay("girl_shake",3),egret.setTimeout(function(){t()},this,900)},i.prototype.girlFind=function(){var t=this;gSoundMgr.playEff("smaaaa"),this.getBoyPOSbyGirl()?this.pgirl_con.scaleX=-1:this.pgirl_con.scaleX=1,this.pgirl_mc.interval=500,this.pgirl_mc.gotoAndPlay("girl_find",1),egret.setTimeout(function(){t.openEnd()},this,800),gTween.toBottomHide(this.tips,300)},i.prototype.boyFound=function(t){this.getBoyPOSbyGirl()?this.pboy_con.scaleX=-1:this.pboy_con.scaleX=1;var e=new util.ShakeTool;e.shakeObj(this.pboy_con,300,10,10,10),this.pboy_mc.scaleX=this.pboy_mc.scaleY=1.1,this.pboy_mc.gotoAndPlay(t)},i.prototype.lampMove=function(){this.light_up.x=-40,this.light_up.y=-130,this.light_up.rotation=-30},i.prototype.gameStart=function(){this.gameStared=!0,this.openStarted=!1,this.showGuide(),GameMgr.firstToMaxLv&&(GameMgr.auto=!0)},i.prototype.hasUiFirstLogo=function(){return this.UiFirst&&this.UiFirst.parent&&this.UiFirst.conLogo&&this.UiFirst.conLogo.parent},i.prototype.resizeUiFirst=function(t){},i.prototype.openFirst=function(){this.UiFirst=gUiMgr.create(ui.UiFirst),this.UiFirst.addEventListener(gConst.eventType.RESIZE_VIEW,this.resizeUiFirst,this),this.UiFirst.open({horDir:gConst.direction.LEFT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_BOTTOM,verDir:gConst.direction.CENTER_BOTTOM})},i.prototype.closeFirst=function(){this.UiFirst&&(this.UiFirst.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeUiFirst,this),this.UiFirst.close())},i.prototype.openStart=function(t){if(void 0===t&&(t=1),!this.openStarted&&(this.openStarted=!0,this.hideGuide(),this.UiStart=gUiMgr.create(ui.UiStart),this.UiStart.once(gConst.eventType.CLOSE,this.gameStart,this),this.UiStart.open(t),3!=t&&0==GameMgr.screenType)){var e=this.UiFirst,i=void 0;e&&(i=e.conLogo),i&&(i.visible=!1)}},i.prototype.closeStart=function(){this.UiStart&&this.UiStart.hide(void 0,!0)},i.prototype.closeTran=function(){this.UiTran&&this.UiTran.close()},i.prototype.openCongrats=function(){this.sceneFadeOut(),this.UiCongrats=gUiMgr.create(ui.UiCongrats),this.UiCongrats.open()},i.prototype.closeCongrats=function(){this.UiCongrats&&this.UiCongrats.close()},i.prototype.openTranEnd=function(){GameMgr.isEnd||(this.openEnd(),this.UiStart.once(gConst.eventType.SHOW_CURTAIN_FULL,this.showEnd,this),this.UiStart.showParticles())},i.prototype.closeTranEnd=function(){this.UiTranEnd&&this.UiTranEnd.close()},i.prototype.sceneFadeOut=function(){gTween.fadeOut(this.con_ele,300),gTween.fadeOut(this.progress_con,300),gTween.fadeOut(this.window1,300),gTween.fadeOut(this.window2,300),this.progress_tips.visible=!1},i.prototype.openEnd=function(t){void 0===t&&(t=!0),this.sceneFadeOut(),this.closeFirst(),egret.clearTimeout(this.endDelay),egret.clearTimeout(this.endToNoOperationDelay),GameMgr.isEnd||(GameMgr.isEnd=!0,this.hideGuide(),this.removeEvent(),this.UiEnd=gUiMgr.create(ui.UiEnd),this.UiEnd.hide(),this.UiEnd.open(),egret.setTimeout(this.showEnd,this,500),this.victory?(gSoundMgr.playEff("smsuccess"),GameMgr.endType=1):gSoundMgr.playEff("smfail"),Mapi.gameEnd(),t&&this.showEnd())},i.prototype.showEnd=function(){this.gameEnd(),this.showEndOther()},i.prototype.showEndOther=function(){this.UiEnd&&this.UiEnd.showOther()},i.prototype.closeEnd=function(){this.UiEnd&&this.UiEnd.close()},i.prototype.openEndFail=function(){this.openEnd()},i.prototype.showEndFail=function(){this.UiEndFail.show(),this.UiFirst.updateDir({horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP}),this.showEndFailOther()},i.prototype.showEndFailOther=function(){this.UiEndFail&&this.UiEndFail.showOther()},i.prototype.closeEndFail=function(){this.UiEndFail&&this.UiEndFail.close()},i.prototype.createGuide=function(){for(var t=1;4>t;t++){var e=this["guideBone"+t],i=this["guide_"+t];e=new com.ComBones,e.setData(i,"ppeople"),e.show(),e.play("guide",0)}},i.prototype.showGuide=function(){var t=this;egret.setTimeout(function(){t.createGuide()},this,2e3)},i.prototype.hideGuide=function(){for(var t=1;4>t;t++)gTween.fadeOut(this["guide_"+t],200)},i}(eui.Component);t.GameScene=e,__reflect(e.prototype,"scene.GameScene")}(scene||(scene={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,o){function a(t){e.call(o,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(o))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,a,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFile);t.UiEmpty=e,__reflect(e.prototype,"ui.UiEmpty")}(ui||(ui={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComCloset,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){this.door.visible=!1,this.door.source="pLv2Ye1_png",this.shakeCloset(),this.shakeClosetDelay=egret.setInterval(this.shakeCloset,this,1e3)},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.once(egret.TouchEvent.TOUCH_TAP,this.clickDoor,this)},e.prototype.removeEvent=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickDoor,this)},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.openDoor=function(t){var e=this,i=this.con,o=this.door,a=new util.ShakeTool,r=function(){o.visible=!0,egret.setTimeout(function(){o.source="pLv2Ye2_png",e.dispatchEventWith(gConst.eventType.RIGHT_ANSWER)},e,500)};i.once(egret.Event.COMPLETE,r,this),a.shakeObj(i,500,10,0,10,0,0)},e.prototype.shakeCloset=function(){var t=this.con,e=this.shake;e||(e=this.shake=new util.ShakeTool),e.shakeObj(t,500,10,0,10,0,0)},e.prototype.clickDoor=function(t){var e=this.con,i=this.shake;i&&(i.stop(),e.once(egret.Event.COMPLETE,this.clickInstall,this),i.shakeObj(e,500,10,0,10,0,0)),egret.clearInterval(this.shakeClosetDelay)},e}(t.ComFile);t.ComCloset=e,__reflect(e.prototype,"com.ComCloset")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComHead,e}return __extends(e,t),e.prototype.init=function(t){},e.prototype.load=function(){this.touchEnabled=this.touchChildren=!1},e.prototype.start=function(){var t=this.emoji,e=this.chat;this.isShowChat=!1,t.visible=!1,e.visible=!1,this.playSmile()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e,1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(e,i,o,a){return e?void gTween.fadeIn(this,300,1,void 0,{duration:500},{callback:i,thisObj:o,params:a}):(t.prototype.show.call(this),void(i&&i.call.apply(i,[o].concat(a))))},e.prototype.hide=function(e,i,o,a){return e?void gTween.fadeOut(this,300,1,void 0,{duration:500},{callback:i,thisObj:o,params:a}):(t.prototype.hide.call(this),void(i&&i.call.apply(i,[o].concat(a))))},e.prototype.playSmile=function(){this.chgEmoji(11)},e.prototype.playHappy=function(){this.chgEmoji(12)},e.prototype.playSleepy=function(){this.chgEmoji(13)},e.prototype.playAngry=function(){this.chgEmoji(14)},e.prototype.showChat=function(){if(!this.showChated&&(this.showChated=!0,!this.isShowChat)){this.isShowChat=!0;var t=this.chat;gTween.showBubble(t,200,{orgS:1,orgA:1,ease:egret.Ease.cubicOut,wait:{duration:2e3}},this.hideChat,this,void 0,{isFloat:!0,orgY:146})}},e.prototype.hideChat=function(){if(this.isShowChat){this.isShowChat=!1;var t=this.chat;gTween.hideBubble(t,200,{orgS:1,orgA:1})}},e.prototype.chgEmoji=function(t){if(this.emojiId!=t){this.emojiId=t;var e="ui"+t+"_emoji_png",i=this.emoji;gTween.toSmallHide(i,200,1,1,egret.Ease.cubicIn,void 0,{callback:function(){i.source=e,gComMgr.setObjAnchor(i),gTween.toBigShow(i,200,1,1,egret.Ease.cubicOut)}})}},e}(t.ComFile);t.ComHead=e,__reflect(e.prototype,"com.ComHead")}(com||(com={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.moneyId=0,e.skinName=skins.UiCongrats,e}return __extends(e,t),e.prototype.init=function(t,e){void 0===e&&(e=0),this.notClose=t,this.moneyId=e},e.prototype.load=function(){},e.prototype.start=function(){this.bg.mask=this.bg_mask;var t=new com.ComBones;t.setData(this.conBoy,"ppeople"),t.play("people",0),t.setPos({x:void 0,y:272})},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){var t=this.con,e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType],i=1;if(1==this.screenType){switch(this.mobileType){case 1:break;case 2:break;case 3:i=.85}t.scaleX=t.scaleY=e*i,t.x=gMath.keepDecimal(-(t.width/2-t.anchorOffsetX)*t.scaleX+.5*this.width,0),t.y=gMath.keepDecimal(-(t.height/2-t.anchorOffsetY)*t.scaleY+.5*this.height,0)}else{switch(this.mobileType){case 1:i=.85;break;case 2:i=.85;break;case 3:i=.85}t.scaleX=t.scaleY=e*i,t.x=gMath.keepDecimal(-(t.width/2-t.anchorOffsetX)*t.scaleX+.75*this.width,0),t.y=gMath.keepDecimal(-(t.height/2-t.anchorOffsetY)*t.scaleY+.5*this.height,0)}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFile);t.UiCongrats=e,__reflect(e.prototype,"ui.UiCongrats")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiEnd,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){var t=this;this.bg.mask=this.bg_mask,this.btnRe.visible=!1,this.btnDownload.visible=!1,this.logo.visible=!1,gTween.toScale(this.outCon,1,800,1.8,egret.Ease.quadIn,void 0,{callback:function(){if(1===GameMgr.endType){var e=new com.ComBones;e.setData(t.conBoy,"ppeople"),e.play("people",0),e.setPos({x:void 0,y:272})}else gTween.toTopShow(t.btnRe,1200,500,void 0,1,egret.Ease.elasticOut),gTween.fadeIn(t.boygirl,300);gTween.toTopShow(t.btnDownload,1200,500,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){gTween.yoyoBtn(t.btnDownload)}}),gTween.toBottomShow(t.logo,1200,500,void 0,1,egret.Ease.elasticOut)}})},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){gConst.globalClick&&this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this),this.btnRe.addEventListener(egret.TouchEvent.TOUCH_TAP,this.restart,this),this.btnDownload.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)
},e.prototype.removeEvent=function(){gConst.globalClick&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this),this.btnRe.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.restart,this),this.btnDownload.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.resizeView=function(){var t=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType],e=this.conBg,i=(this.con,this.outCon,this.bg_mask,this.erase_mask),o=this.con_frame,a=this.mask_bg;if(e.scaleX=e.scaleY=Math.max(this.height/e.height,this.width/e.width),a.scaleX=this.width/a.width,a.scaleY=this.height/a.height,1==this.screenType)switch(o.x=i.x=0/0,o.horizontalCenter=i.horizontalCenter=0,o.scaleX=o.scaleY=i.scaleX=i.scaleY=.7*this.bg_mask.width/i.width,o.width=i.width+30,o.height=i.height+40,o.y=i.y=.45*this.height,this.logo.x=this.btnRe.x=0/0,this.btnRe.horizontalCenter=this.logo.horizontalCenter=this.btnDownload.horizontalCenter=0,this.btnRe.y=.8*this.height,this.btnDownload.y=this.btnRe.y+this.btnRe.height+20,this.mobileType){case 1:break;case 2:break;case 3:}else switch(o.x=i.x=.35*this.width,o.scaleX=o.scaleY=i.scaleX=i.scaleY=.6*this.bg_mask.width/i.width,o.width=i.width+30,o.height=i.height+40,o.y=i.y=.5*this.height,this.logo.y=.2*this.height,this.btnDownload.horizontalCenter=this.btnRe.horizontalCenter=this.logo.horizontalCenter=0/0,this.btnDownload.x=this.btnRe.x=this.logo.x=.8*this.width,this.btnRe.y=.6*this.height,this.btnDownload.y=this.btnRe.y+this.btnRe.height+30,this.mobileType){case 1:break;case 2:break;case 3:}this.erase_mask.scaleX=this.erase_mask.scaleY=this.con_frame.scaleX=this.con_frame.scaleY=this.btnRe.scaleX=this.btnRe.scaleY=this.btnDownload.scaleX=this.btnDownload.scaleY=t},e.prototype.rotateView=function(){1==this.screenType},e.prototype.restart=function(){this.close(),GameMgr.replay()},e.prototype.toTopShow=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];gTween.toTopShow(t,800,void 0,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},e.prototype.toBottomShow=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];gTween.toBottomShow(t,800,void 0,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},e.prototype.show=function(){},e.prototype.showOther=function(){this.gameEnd()},e.prototype.hide=function(){},e}(t.UiFile);t.UiEnd=e,__reflect(e.prototype,"ui.UiEnd")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiEndFail,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){gSoundMgr.playEff("smtimeout")},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){gConst.globalClick?this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this):this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this),GameMgr.isShowReplay()&&this.replay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickReplay,this)},e.prototype.removeEvent=function(){gConst.globalClick?this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this):this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this),GameMgr.isShowReplay()&&this.replay.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickReplay,this)},e.prototype.resizeView=function(){var t=this.conPeople,e=this.conBtn,i=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(t.scaleX=t.scaleY=i,e.scaleX=e.scaleY=i,1==this.screenType)switch(this.conPeople.scaleX=this.conPeople.scaleY=.9,this.mobileType){case 1:this.conPeople.scaleX=this.conPeople.scaleY=1;break;case 2:break;case 3:}else switch(this.conPeople.scaleX=this.conPeople.scaleY=1,this.mobileType){case 1:t.verticalCenter="-38%";break;case 2:t.verticalCenter="-40%";break;case 3:t.verticalCenter="-28%"}},e.prototype.rotateView=function(){var t=this.conPeople,e=this.conBtn;1==this.screenType?(t.verticalCenter="-8%",e.bottom="18%"):e.bottom="6%"},e.prototype.showBlack=function(){gTween.fadeIn(this.black,100,1)},e.prototype.hideBlack=function(){gTween.fadeOut(this.black,50,1)},e.prototype.toTopShow=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];gTween.toTopShow(t,800,void 0,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},e.prototype.toBottomShow=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];gTween.toBottomShow(t,800,void 0,void 0,1,egret.Ease.elasticOut,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},e.prototype.showBtn=function(){this.toTopShow(this.btn),this.btn.open()},e.prototype.showLogoBtn=function(){this.conBtn.visible=!0,this.showBtn(),GameMgr.isShowReplay()&&this.toTopShow(this.replay)},e.prototype.createPeople=function(){var t=new com.ComBones;t.setData(this.conPeople,"e_people"),t.play("fail",0)},e.prototype.showPeople=function(){this.toBottomShow(this.people)},e.prototype.show=function(){1==GameMgr.endType,this.showBlack()},e.prototype.showOther=function(){this.gameEnd(),this.showPeople(),this.showLogoBtn()},e.prototype.hide=function(){this.black.visible=!1,this.people.visible=!1,this.conBtn.visible=!1,this.btn.visible=!1,this.replay.visible=!1},e}(t.UiFile);t.UiEndFail=e,__reflect(e.prototype,"ui.UiEndFail")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiFirst,e}return __extends(e,t),e.prototype.init=function(t,e,i){void 0===i&&(i=!1),void 0!=t&&(this.logoDir=t),void 0!=e&&(this.btnDir=e),this.initLogoS=this.logo.scaleX,this.initBtnS=this.gBtn.scaleX,this.initConLogoS=this.conLogo.scaleX,this.initConBtnS=this.conBtn.scaleX,this.yoyoBtn(i)},e.prototype.load=function(){this.touchEnabled=!1;var t=this.conLogo,e=this.conBtn;gComMgr.setItemAnchor(this.logo),gComMgr.setItemAnchor(this.gLogo),gComMgr.setItemAnchor(this.btn),gComMgr.setItemAnchor(this.gBtn);var i=this.logoLoc,o=this.btnLoc;i||(i=this.logoLoc=new data.FirstData,i.scale=t.scaleX),o||(o=this.btnLoc=new data.FirstData,o.scale=e.scaleX),this.updateLogoLoc(),this.updateBtnLoc()},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.gBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this),this.gLogo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this)},e.prototype.removeEvent=function(){this.gBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this),this.gLogo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this)},e.prototype.resizeView=function(){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc;if(a.scale=this.initConBtnS*t,gTween.rmTweens(e),gTween.rmTweens(i),1==this.screenType){switch(o.scale=this.initConLogoS*t,this._updateLogoVer(),this._updateBtnVer(),this.conBtn.bottom=.02*this.height,this.mobileType){case 1:break;case 2:break;case 3:}e.x=o.vertical.x,e.y=o.vertical.y,i.x=a.vertical.x,i.y=a.vertical.y}else{switch(o.scale=this.initConLogoS*t,this.conBtn.bottom=.07*this.height,this._updateLogoHor(),this._updateBtnHor(),this.mobileType){case 1:break;case 2:break;case 3:}e.x=o.horizontal.x,e.y=o.horizontal.y,i.x=a.horizontal.x,i.y=a.horizontal.y}e.scaleX=e.scaleY=o.scale,i.scaleX=i.scaleY=a.scale,this.dispatchEventWith(gConst.eventType.RESIZE_VIEW)},e.prototype.rotateView=function(){this.conLogo,this.conBtn;1==this.screenType},e.prototype.__updateLogoHorRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.horizontal.x=Math.floor(t.width*o.horRatio/100)},n=function(){o.horizontal.x=Math.floor(t.width/2)},s=function(){o.horizontal.x=Math.floor(t.width*(1-o.horRatio/100))},h=function(){var i=gConst.mobileByScale[t.screenType][t.mobileType];o.center?o.horizontal.y=Math.floor((t.height-o.horSpace)/2-e.height*o.scale+o.centerOffset*i):o.topSpace>0&&o.topSpace<1?o.horizontal.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.horizontal.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.horizontal.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.y=t.height-Math.floor((o.bottomSpace+i.height)*a.scale+(o.horSpace+e.anchorOffsetY)*o.scale):o.horizontal.y=t.height-Math.floor((o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype.__updateLogoHor=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.leftSpace>0&&o.leftSpace<1?t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.horizontal.x=Math.floor(o.leftSpace*o.scale*t.width+e.anchorOffsetX*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.horizontal.x=Math.floor(o.leftSpace*o.scale+e.anchorOffsetX*o.scale)},n=function(){o.horizontal.x=Math.floor(t.width/2)},s=function(){o.rightSpace>0&&o.rightSpace<1?o.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale*t.width)):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale)):o.horizontal.x=Math.floor(t.width-(e.anchorOffsetX*o.scale+o.rightSpace*o.scale))},h=function(){var i=gConst.mobileByScale[t.screenType][t.mobileType];o.center?o.horizontal.y=Math.floor((t.height-o.horSpace)/2-e.height*o.scale+o.centerOffset*i):o.topSpace>0&&o.topSpace<1?o.horizontal.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.horizontal.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.horizontal.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.y=Math.floor(t.height-((o.bottomSpace+i.height)*a.scale+(o.horSpace+e.anchorOffsetY)*o.scale)):o.horizontal.y=Math.floor(t.height-(o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateLogoHor=function(){void 0!=this.logoLoc.horRatio?this.__updateLogoHorRatio():this.__updateLogoHor()},e.prototype.__updateLogoVerRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.leftSpace>0&&o.leftSpace<1?o.vertical.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.vertical.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale))},n=function(){o.vertical.x=t.width/2},s=function(){var i=Math.floor(t.height*o.verRatio/100);t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=i-Math.floor((o.verSpace/2+e.anchorOffsetY)*o.scale):o.vertical.y=i},h=function(){var i=Math.floor(t.height*(1-o.verRatio/100));t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=i-Math.floor((o.verSpace/2+e.anchorOffsetY)*o.scale):o.vertical.y=i};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),s.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),h.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),s.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),h.call(this)}},e.prototype.__updateLogoVer=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.leftSpace>0&&o.leftSpace<1?o.vertical.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):t.btnDir.verDir==t.logoDir.verDir?o.vertical.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.vertical.x=Math.floor(o.leftSpace*o.scale+e.anchorOffsetX*o.scale)},n=function(){o.vertical.x=t.width/2},s=function(){o.rightSpace>0&&o.rightSpace<1?o.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale*t.width)):t.btnDir.verDir==t.logoDir.verDir?o.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale)):o.vertical.x=Math.floor(t.width-(e.anchorOffsetX*o.scale+o.rightSpace*o.scale))},h=function(){o.topSpace>0&&o.topSpace<1?o.vertical.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.vertical.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.vertical.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=Math.floor(t.height-((o.bottomSpace+i.height)*a.scale+(o.verSpace+e.anchorOffsetY)*o.scale)):o.vertical.y=Math.floor(t.height-(o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateLogoVer=function(){void 0!=this.logoLoc.verRatio?this.__updateLogoVerRatio():this.__updateLogoVer()},e.prototype.updateLogoLoc=function(t){if(t)void 0!=t.horizontal.x&&(t.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(t.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(t.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(t.vertical.y=t.vertical.y);else{if(!this.logoDir)return;this._updateLogoHor(),this._updateLogoVer()}},e.prototype.__updateBtnHorRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.horizontal.x=Math.floor(t.width*a.horRatio/100)},n=function(){a.horizontal.x=Math.floor(t.width/2)},s=function(){a.horizontal.x=Math.floor(t.width*(1-a.horRatio/100))},h=function(){var r=gConst.mobileByScale[t.screenType][t.mobileType];o.center?a.horizontal.y=Math.floor((t.height+a.horSpace)/2+a.centerOffset*r):a.topSpace>0&&a.topSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.horSpace+i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(a.topSpace*t.height*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor((o.topSpace+e.height)*o.scale+(a.horSpace+i.anchorOffsetY)*a.scale):a.horizontal.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.horizontal.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype.__updateBtnHor=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.leftSpace>0&&a.leftSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.horizontal.x=Math.floor(a.leftSpace*a.scale*t.width+i.anchorOffsetX*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.horizontal.x=Math.floor(a.leftSpace*a.scale+i.anchorOffsetX*a.scale)},n=function(){a.horizontal.x=Math.floor(t.width/2)},s=function(){a.rightSpace>0&&a.rightSpace<1?a.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*o.scale*t.width)):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*a.scale)):a.horizontal.x=Math.floor(t.width-(i.anchorOffsetX*a.scale+a.rightSpace*a.scale))},h=function(){var r=gConst.mobileByScale[t.screenType][t.mobileType];o.center?a.horizontal.y=Math.floor((t.height+a.horSpace)/2+a.centerOffset*r):a.topSpace>0&&a.topSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.horSpace+i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(a.topSpace*t.height*a.scale+i.anchorOffsetY*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor((o.topSpace+e.height)*o.scale+(a.horSpace+i.anchorOffsetY)*a.scale):a.horizontal.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.horizontal.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateBtnHor=function(){void 0!=this.btnLoc.horRatio?this.__updateBtnHorRatio():this.__updateBtnHor()},e.prototype.__updateBtnVerRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.leftSpace>0&&a.leftSpace<1?a.vertical.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.vertical.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale))},n=function(){a.vertical.x=Math.floor(t.width/2)},s=function(){var e=Math.floor(t.height*a.verRatio/100);t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=e+Math.floor(a.verSpace/2+i.anchorOffsetY)*a.scale:a.vertical.y=e},h=function(){var e=Math.floor(t.height*(1-a.verRatio/100));t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=e+Math.floor(a.verSpace/2+i.anchorOffsetY)*a.scale:a.vertical.y=e};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),s.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),h.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),s.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),h.call(this)}},e.prototype.__updateBtnVer=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.leftSpace>0&&a.leftSpace<1?a.vertical.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):t.logoDir.verDir==t.btnDir.verDir?a.vertical.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.vertical.x=Math.floor(a.leftSpace*a.scale+i.anchorOffsetX*a.scale)},n=function(){a.vertical.x=t.width/2},s=function(){a.rightSpace>0&&a.rightSpace<1?a.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*o.scale*t.width)):t.logoDir.verDir==t.btnDir.verDir?a.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*a.scale)):a.vertical.x=Math.floor(t.width-(i.anchorOffsetX*a.scale+a.rightSpace*a.scale))},h=function(){a.topSpace>0&&a.topSpace<1?t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.verSpace+i.anchorOffsetY*a.scale):a.vertical.y=Math.floor(a.topSpace*t.height*a.scale+i.anchorOffsetY*a.scale):t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=Math.floor((o.topSpace+e.height)*o.scale+(a.verSpace+i.anchorOffsetY)*a.scale):a.vertical.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.vertical.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.vertical.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:n.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:n.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:s.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:s.call(this),c.call(this)}},e.prototype._updateBtnVer=function(){void 0!=this.btnLoc.verRatio?this.__updateBtnVerRatio():this.__updateBtnVer()},e.prototype.updateBtnLoc=function(t){if(t)void 0!=t.horizontal.x&&(t.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(t.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(t.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(t.vertical.y=t.vertical.y);else{if(!this.btnDir)return;this._updateBtnHor(),this._updateBtnVer()}},e.prototype.updateDir=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this.init(t,e,i),o&&(this.resizeView(),this.rotateView())},e.prototype.yoyoBtn=function(t){void 0===t&&(t=!0),gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel||(t?gTween.yoyoBtn(this.gBtn,void 0,void 0,{orgS:{x:this.initBtnS}}):this.isYoyoBtn&&(gTween.rmTweens(this.gBtn),this.gBtn.scaleX=this.gBtn.scaleY=1),this.isYoyoBtn=t)},e.prototype.gameEnd=function(){t.prototype.gameEnd.call(this);this.conLogo,this.conBtn},e.prototype.updateEndLoc=function(){if(GameMgr.isEnd){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=this.logoLoc,i=this.btnLoc;if(e.scale=this.initConLogoS*t,e.bottomSpace=i.bottomSpace=.1,e.horRatio=i.horRatio=25,e.horSpace=i.horSpace=0,e.centerOffset=i.centerOffset=140,1==this.screenType)switch(i.scale=this.initConBtnS*t,e.center=i.center=null,this._updateLogoVer(),this._updateBtnVer(),this.mobileType){case 1:break;case 2:break;case 3:}else switch(i.scale=this.initConBtnS*t*.9,e.center=i.center=!0,this._updateLogoHor(),this._updateBtnHor(),this.mobileType){case 1:break;case 2:break;case 3:}}},e.prototype.clickArticle=function(t){this.clickInstall(t)},e}(t.UiFile);t.UiFirst=e,__reflect(e.prototype,"ui.UiFirst")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.chatId=1,e.firstTouch=!0,e.flyScale=1,e.skinName=skins.UiStart,e}return __extends(e,t),e.prototype.init=function(t){void 0===t&&(t=1),this.chatId=t},e.prototype.load=function(){this.orgIdx=this.parent.getChildIndex(this)},e.prototype.start=function(){var t=this.con,e=this.conWord,i=this.word,o=this.btnTips,a=this.black;t.visible=!1,e.visible=!1,o.visible=!1,a.visible=!1;var r=!0;switch(this.chatId){case 1:i.source="lang_gword1_png";break;case 2:i.source="lang_pword_png";break;case 3:i.source="lang_eword_png",r=!1}gComMgr.setObjSize(i,r),r&&gComMgr.setObjSize(e,!0),this.showPeople(),this.showWord(),3==this.chatId&&this.showBlack(),this.showGuide()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){3!=this.chatId&&GameMgr.stage.once(egret.TouchEvent.TOUCH_TAP,this.hide,this,!0)},e.prototype.removeEvent=function(){GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this,!0)},e.prototype.resizeView=function(){var t=this.conPeople,e=this.gWord,i=gConst.mobileByScale[this.screenType][this.mobileType];if(t.scaleX=t.scaleY=i,e.scaleX=e.scaleY=i,this.flyConParticle(),1==this.screenType){switch(this.parent&&3!=this.chatId&&this.parent.setChildIndex(this,this.orgIdx),this.mobileType){case 1:break;case 2:break;case 3:}t.left=-100*t.scaleX,t.bottom=0*t.scaleX,e.left=220*e.scaleX,e.bottom=460*e.scaleX}else{switch(this.parent&&3!=this.chatId&&this.parent.setChildIndex(this,this.parent.numChildren-1),this.mobileType){case 1:break;case 2:break;case 3:}t.left=-110*t.scaleX,t.bottom=-234*t.scaleX,e.left=250*e.scaleX,e.bottom=250*e.scaleX}},e.prototype.rotateView=function(){1==this.screenType},e.prototype.showBlack=function(){gTween.fadeIn(this.black,100)},e.prototype.hideBlack=function(){gTween.fadeOut(this.black,50)},e.prototype.initPeople=function(){},e.prototype.showPeople=function(){var t=this.people;gTween.toRightShow(t,300,void 0,0,1)},e.prototype.hidePeople=function(t,e){var i=this.people;gTween.toLeftHide(i,300,void 0,0,1,egret.Ease.backIn,void 0,{callback:function(){t&&t.call(e)}})},e.prototype.showWord=function(){var t=this.conWord,e=this.btnTips;gTween.toTopShow(t,300,void 0,t.anchorOffsetY,1),3!=this.chatId&&gTween.fadeIn(e,200,1,void 0,void 0,{callback:function(){gTween.loopAlpha(e,.2,300,1)}})},e.prototype.hideWord=function(){var t=this.conWord,e=this.btnTips;gTween.toBottomHide(t,200,void 0,0,1,egret.Ease.backIn),gTween.fadeOut(e,200,1)},e.prototype.hide=function(t,e){void 0===e&&(e=!0),t&&t.stopPropagation(),this.hideGuide(),e?this.hidePeople(this.close,this):this.hidePeople(),this.hideWord()},e.prototype.showGuide=function(){if(!GameMgr.isEnd&&!this.showGuided){var t=this.firstTouch?gConst.firstGuideTimer:gConst.afterGuideTimer;this.guide||(this.guide=new com.ComGuide,this.guide.open()),this.showGuided=!0,this.guide.setData(t,{target1:this.guidePos},this.gWord,{pressT:200,liftT:300,waitT:100,direction:gConst.direction.RIGHT_BOTTOM,offR:15}),this.guide.play()}},e.prototype.hideGuide=function(){this.guide&&this.showGuided&&(this.firstTouch=!1,this.showGuided=!1,this.guide.over())},e.prototype.flyParticlComplete=function(){var t=this.conParticle;gTween.rmTweens(t),this.flyCompleted||(this.flyCompleted=!0,t.y=this.flyToY,this.stopParticles())},Object.defineProperty(e.prototype,"flyToY",{get:function(){return-this.height*this.flyScale-200},enumerable:!0,configurable:!0}),e.prototype.flyConParticle=function(){if(this.flyConParticleing&&!this.flyCompleted){var t=this.flyTime(),e=this.conParticle;gTween.toMoveY(e,this.flyToY,t,void 0,egret.Ease.sineOut,{duration:1e3},{callback:this.flyParticlComplete,thisObj:this})}},e.prototype.flyTime=function(){var t=this.conParticle;return gMath.getTimeBySpeed(t.x,t.y,t.x,this.flyToY,3e3*this.flyScale/4)},e.prototype.showParticles=function(){var t=this,e=(this.flyScale,this.flyTime()),i=this.con,o=this.conParticle;i.visible=!0;this.createParticles(o,["fail"],"fail");egret.setTimeout(function(){GameMgr.showCurtainFull=!0,t.dispatchEventWith(gConst.eventType.SHOW_CURTAIN_FULL)},this,.5*e),this.flyConParticleing=!0,this.flyConParticle()},e}(t.UiFile);t.UiStart=e,__reflect(e.prototype,"ui.UiStart")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isUiFirstLimit=!1,e.skinName=skins.UiTran,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=(this.conColorBar,this.colorBar),e=(this.conWord,this.word);gComMgr.setItemAnchor(t,!0,!1),t.width+=4*t.height,t.anchorOffsetX=t.width/2,gComMgr.setItemAnchor(e)},e.prototype.start=function(){var t=this.colorBar;this.closed=!1,this.playAniOutComplete=!1,this.playParticlesComplete=!1,this.playEnd=!1,t.visible=!1,this.playAniIn()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){var t=this.conColorBar,e=this.colorBar;gConst.mobileByScale[this.screenType][this.mobileType];if(e.width=this.width+4*t.height,e.anchorOffsetX=e.width/2,1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){var t=this.conColorBar,e=this.conWord;1==this.screenType?(t.verticalCenter="-20%",e.verticalCenter="-30%",t.rotation=-20):(t.verticalCenter="-8%",e.verticalCenter="-18%",t.rotation=-10)},e.prototype.playAniIn=function(){var t=this.conColorBar,e=this.colorBar,i=this.word;gTween.toRightShow(e,300,-e.width,t.width/2,1,void 0,{duration:1e3},{callback:this.playAniOut,thisObj:this}),gTween.toSmallShow(i,5,200,1,1),this.showParticles(),gSoundMgr.playEff("smwin")},e.prototype.playAniOut=function(){var t=this,e=this.colorBar,i=this.word;gTween.toScaleY(e,Math.max(this.height,this.width)/e.height*1.6,300,1,void 0,void 0,{callback:function(){t.dispatchEventWith(gConst.eventType.IN_COMPLETE),gTween.fadeOut(e,200,1,void 0,void 0,{callback:function(){t.playAniOutComplete=!0,t.close()}})}}),gTween.fadeOut(i,200)},e.prototype.showBlack=function(){gTween.fadeIn(this.black,100,1)},e.prototype.hideBlack=function(t,e){gTween.fadeOut(this.black,50,1,void 0,void 0,{callback:function(){t&&t.call(e)}})},e.prototype.showParticles=function(){var t=this,e=1e3,i=1e4,o=this.createParticles(this.conParticles,["streamer1","streamer2","streamer3","streamer4","streamer5","streamer6","streamer7","streamer8"],"streamer");this.startParticle(o,e),egret.setTimeout(function(){egret.setTimeout(function(){t.playParticlesComplete=!0,t.close()},t,i)},this,e)},e.prototype.playComplete=function(t){this.playEnd=!0,this.close()},e.prototype.close=function(e){this.closed||this.playAniOutComplete&&this.playParticlesComplete&&(this.closed=!0,t.prototype.close.call(this))},e}(t.UiFile);t.UiTran=e,__reflect(e.prototype,"ui.UiTran")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiTranEnd,e}return __extends(e,t),e.prototype.init=function(t){this.data=t},e.prototype.load=function(){},e.prototype.start=function(){this.showParticles()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){var t=this.con,e=gConst.mobileByScale[this.screenType][this.mobileType];if(t.scaleX=t.scaleY=e,1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(t.x=Math.floor(.72*this.width),this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e.prototype.close=function(e){t.prototype.close.call(this)},e.prototype.showParticles=function(){var t=this,e=1,i=1500*e,o=this.conParticle;this.createParticles(o,["fail"],"fail");egret.setTimeout(function(){t.dispatchEventWith(gConst.eventType.SHOW_CURTAIN_FULL)},this,.5*i),gTween.toMoveY(o,-this.height*e-200,i,200,egret.Ease.quadOut,void 0,{callback:function(){}})},e.prototype.clickBtnReplay=function(t){this.close(t)},e.prototype.clickBtnTips=function(t){this.clickInstall(t)},e}(t.UiFile);t.UiTranEnd=e,__reflect(e.prototype,"ui.UiTranEnd")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.wordId=1,e.skinName=skins.UiPeople,e}return __extends(e,t),e.prototype.init=function(t,e){void 0===t&&(t=1),this.lastId=this.id,this.id=t,void 0!=e&&(this.wordId=e),this.updateRender()},e.prototype.load=function(){this.touchEnabled=this.touchChildren=!1,this.people=new com.ComBones,this.people.setData(this.conPeople,"ppeople"),this.people.setPos({x:this.conPeople.width/2,y:this.conPeople.height}),this.people.setIndex(0),this.people.hide(),this.conChat.visible=!1,this.updateRender()},e.prototype.start=function(){this.show()
},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=1;if(1==this.screenType)switch(this.con.width=750,this.mobileType){case 1:e=1.1;break;case 2:break;case 3:}else switch(this.con.width=1334,this.mobileType){case 1:e=.9;break;case 2:break;case 3:e=1.5}this.con.scaleX=this.con.scaleY=this.width/this.con.width*t,this.conPeople.scaleX=this.conPeople.scaleY=e},e.prototype.rotateView=function(){1==this.screenType?this.conBody.width=this.conBody.parent.width:this.conBody.width=1180},e.prototype.updateRender=function(){if(this.people){var t=this.id,e=this.wordId;this.people.play("animation"+t,-1),this.word.source="pword"+e+"_png",2==t||3==t?this.showChat():this.hideChat()}},e.prototype.show=function(){this.showPeople()},e.prototype.showPeople=function(){this.id!==this.lastId&&(this.showed||(this.showed=!0,gTween.toRightShow(this.conPeople,500,void 0,this.conPeople.anchorOffsetX,1,egret.Ease.quartOut,void 0,{callback:this.showFinish,thisObj:this,params:[this.people]})))},e.prototype.hidePeople=function(t,e){this.showed&&(this.showed=!1,gTween.toLeftHide(this.conPeople,300,void 0,this.conPeople.anchorOffsetX,1,void 0,void 0,{callback:t,thisObj:e}))},e.prototype.showFinish=function(){},e.prototype.showChat=function(){this.showChated?this.hideChat(this.showChat,this):(this.showChated=!0,gTween.showBubble(this.conChat,500,{orgS:1,orgA:1},void 0,void 0,void 0,{isFloat:!1}))},e.prototype.hideChat=function(t,e){this.showChated&&(this.showChated=!1,gTween.hideBubble(this.conChat,300,{orgS:1,orgA:1},t,e))},e.prototype.hide=function(t){var e=this;this.hidePeople(function(){t&&e.close()},this),this.hideChat()},e}(t.UiFile);t.UiPeople=e,__reflect(e.prototype,"ui.UiPeople")}(ui||(ui={}));var com;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._id=0,t.orgPosH={},t.orgPosV={},t._state=0,t.allPeople=[],t.endPeople=!0,t.allSortSceneObj=[],t.startSceneIdx=1,t.skinName=skins.ComHouse,t}return __extends(i,e),i.prototype.init=function(t,e,i){void 0===i&&(i=1),this.id=t,this.flagId=e,this.lv=i},i.prototype.load=function(){var t=this.con,e=this.lawn,i=this.money,o=this.upgrade,a=this.comProgress,r=this.conEff0,n=this.moneyDebug,s=this.mcMoney,h=this.conParticle0,c=this.conMoney,l=this.conUpgrade,p=this.conBar,d=this.conEff1,u=this.levelupDebug,f=this.mcLevelup,g=this.conEff2,v=this.buildupDebug,y=this.mcBuildup;gComMgr.setObjSize(e,!0),gComMgr.setObjSize(t,!0),gComMgr.setItemAnchor(i,!0,!1),gComMgr.setItemAnchor(o,!0,!1),a.open(this),gComMgr.setItemAnchor(a,!0,!1),i.visible=!1,o.visible=!1,a.visible=!1,r.touchEnabled=r.touchChildren=!1,h.touchEnabled=h.touchChildren=!1,d.touchEnabled=d.touchChildren=!1,g.touchEnabled=g.touchChildren=!1,this.setItemOrgPos(r),this.setItemOrgPos(h),this.setItemOrgPos(c),this.setItemOrgPos(l),this.setItemOrgPos(p),this.setItemOrgPos(d),this.setItemOrgPos(g),this.initMcEff(n,s,[new data.McData("work",6,"xle_money_{1}_png")]),this.initMcEff(u,f,[new data.McData("work",8,"xle_levelup_{1}_png")]),this.initMcEff(v,y,[new data.McData("work",7,"xle_buildup_{1}_png")])},i.prototype.start=function(){this.initAllFlag(),this.showCurrFlag(),this.renderHouse()},i.prototype.stop=function(){},i.prototype.update=function(){this.checkMeetUpgrade(),this.playAuto(),this.addPeople(),this.sortSceneByY()},i.prototype.addEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHouse,this,!0)},i.prototype.removeEvent=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHouse,this,!0)},i.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},i.prototype.rotateView=function(t){var e=this.conEff0,i=this.conParticle0,o=this.conMoney,a=this.conUpgrade,r=this.conBar,n=this.conEff1,s=this.conEff2;1==GameMgr.screenType?(this.x=this.orgPosV.x,this.y=this.orgPosV.y):(this.x=this.orgPosH.x,this.y=this.orgPosH.y),this.updateItemPos(e),this.updateItemPos(i),this.updateItemPos(o),this.updateItemPos(a),this.updateItemPos(r),this.updateItemPos(n),this.updateItemPos(s)},i.prototype.gameStart=function(){if(!this.gameStarted){this.gameStarted=!0,this.updateProps();var t=this.conEff0,e=this.conMoney,i=this.conUpgrade,o=this.conBar,a=this.conEff1,r=this.conEff2;this.updateItemPos(t),this.updateItemPos(e),this.updateItemPos(i),this.updateItemPos(o),this.updateItemPos(a),this.updateItemPos(r)}},Object.defineProperty(i.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lv",{get:function(){return this._lv},set:function(t){if(!(t>GameMgr.maxLv)){var e=void 0!=this._lv&&this._lv!=t;e&&this.playUpgrade(t),this._lv=t,t==GameMgr.maxLv&&(this.dispatchEventWith(gConst.eventType.LV_TO_MAX),this.playAuto())}},enumerable:!0,configurable:!0}),i.prototype.showPeople=function(){this.endPeople=!1,this.addPeople()},i.prototype.hidePeople=function(t){if(void 0===t&&(t=!0),this.endPeople=!0,t){for(;this.allPeople.length>0;){var e=this.allPeople[0];gPeople.removeAi(e),gDevelop.arrDelVal(this.allSortSceneObj,e)}this.allPeople=[]}},i.prototype.updateNextShowPeople=function(){var t=100,e=Math.max(1500-500*this.id,300);this.nextShowPeople=egret.getTimer()+gMath.getRandomInteger(e+t,e-t)},i.prototype.checkPeople=function(){return this.allPeople.length>=GameMgr.getMaxPeople()},i.prototype.addPeople=function(){if(!this.endPeople&&!(this.checkPeople()||this.nextShowPeople>=egret.getTimer())){this.updateNextShowPeople();var t=gPeople.birthPos;if(t&&0!=t.length){var e=gPeople.createAi(),i=gMath.getRandomAnswer.apply(gMath,t);e.once(gConst.eventType.REMOVE_OBJ,this.removePeople,this),e.open(i,this),e.show(!0),this.allPeople.push(e),this.allSortSceneObj.push(e),this.con.addChild(e)}}},i.prototype.sortSceneByY=function(){var t=this;this.allSortSceneObj.sort(function(t,e){return t.y-e.y}),this.allSortSceneObj.forEach(function(e,i){e.parent&&e.parent.setChildIndex(e,t.startSceneIdx+i)})},i.prototype.removePeople=function(t,e){var i;i=t?t.data:e,i&&(gPeople.removeAi(i),gDevelop.arrDelVal(this.allPeople,i),gDevelop.arrDelVal(this.allSortSceneObj,i))},i.prototype.playUpgrade=function(t){var e=this.house;if(e){var i=e.armatureDisplay;i&&(this._lv=t,this.playComplete())}},i.prototype.playGetGold=function(){if(2!=this.state){var t=this.house;if(t){var e=t.armatureDisplay;if(e){var i="building"+(this.id+1)+this.lv;e.removeEventListener(egret.Event.COMPLETE,this.playComplete,this),t.play(i).timeScale=2}}}},i.prototype.playComplete=function(t){var e=this.house;if(e&&e.armatureDisplay&&e.armatureDisplay.removeEventListener(egret.Event.COMPLETE,this.playComplete,this),!GameMgr.isEnd&&e){var i=e.armatureDisplay;if(i){var o="building"+(this.id+1)+this.lv;e.play(o)}}},i.prototype.playAuto=function(){if(GameMgr.auto&&!(2==this.flagId&&0==this.state||this.lv<GameMgr.maxLv)){if(2==this.state)return void this.hideAllProps();this.state=2;var t=this.house;if(t){var e=t.armatureDisplay;if(e){var i="building"+(this.id+1)+this.lv;e.removeEventListener(egret.Event.COMPLETE,this.playComplete,this),e.addEvent(dragonBones.EgretEvent.LOOP_COMPLETE,this.playLoopComplete,this),t.play(i,0).timeScale=2,this.hideProps(this.getCurrProps())}}}},i.prototype.playLoopComplete=function(t){var e=this.getCurIncome();if(void 0!=e){var i=GameMgr.isVip?gConst.vipGoldScale:1;GameMgr.gold+=e*i,GameMgr.gameview.dispatchEventWith(gConst.eventType.UPDATE_GOLD,void 0,e*i)}this.playMcMoney()},i.prototype.initAllFlag=function(){for(var t=0,e=this["flag"+t];e;)e.visible=!1,t++,e=this["flag"+t]},i.prototype.hideCurrFlag=function(){var t=this.flagId,e=this["flag"+t];e&&(e.visible=!1)},i.prototype.showCurrFlag=function(){var t=this.flagId,e=this["flag"+t];e&&(e.visible=!0)},i.prototype.updateFlag=function(t){void 0===t&&(t=1);var e=this.flagId;t!=e&&(this.hideCurrFlag(),this.flagId=t,this.showCurrFlag())},i.prototype.updateState=function(t){if(void 0===t&&(t=1),2!=this.flagId){var e=this.state;t!=e&&(this.state=t,this.id==GameMgr.maxHourseId&&(this.lv=3),this.initHouse())}},i.prototype.initHouse=function(){var e=this.house;if(!e){var i=this.conHouse;e=this.house=new t.ComBones,e.setData(i,"building"),e.setScale(2);var o="building"+(this.id+1)+this.lv;if(e.gotoAndStopByTime(o),this.playMcBuildup(),this.lawn.visible=!1,this.conFlag.visible=!1,this.id>0&&gSoundMgr.playEff("smbuild"),this.id==GameMgr.maxHourseId){var a=e.armatureDisplay;if(!a)return;var r="building"+(this.id+1)+this.lv;a.addEvent(dragonBones.EgretEvent.LOOP_COMPLETE,this.playLoopComplete,this),e.play(r,0).timeScale=2,gTween.toBottomShow(i,300,300,0,1)}}},i.prototype.getCurrProps=function(){var t=this.propsType;if(void 0!=t)switch(t){case 1:return this.money;case 2:return this.upgrade;case 3:return this.comProgress}},i.prototype.hideProps=function(t,e,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];t&&t.visible&&gTween.toSmallHide(t,200,1,1,void 0,void 0,{callback:function(){e&&e.call.apply(e,[i].concat(o))}})},i.prototype.hideAllProps=function(){this.hideAlled||(this.hideAlled=!0,this.hideProps(this.money),this.hideProps(this.upgrade),this.hideProps(this.comProgress))},i.prototype.showProps=function(t){var e=this;if(2!=this.state&&t&&!t.visible){var i=this.propsType,o=t.anchorOffsetY;gTween.rmTweens(t),t.scaleX=t.scaleY=0,t.visible=!0,t.y=o+100,t.alpha=1,egret.Tween.get(t).to({scaleX:1,scaleY:1,y:o},200).call(function(){if(gTween.floatBubble(t,-20,500,o),3==i){var a=t;a.removeEventListener(egret.Event.COMPLETE,e.updateProps,e),a.once(egret.Event.COMPLETE,e.updateProps,e),a.startLoading()}})}},i.prototype.changeProps=function(t){var e=this,i=this.propsType;t==i?this.hideProps(this.getCurrProps(),function(){e.showProps(e.getCurrProps())}):(this.hideProps(this.getCurrProps()),this.propsType=t,this.showProps(this.getCurrProps())),1==t&&this.playGetGold()},i.prototype.fastPlay=function(){if(!this.fastPlayed){this.fastPlayed=!0;var t=this.house;if(t){var e=t.armatureDisplay;if(e){var i="building"+(this.id+1)+this.lv;t.play(i,0).timeScale=4}}}},i.prototype.stopPlay=function(){var t=this.house;if(t){var e=t.armatureDisplay;if(e){var i="building"+(this.id+1)+this.lv;e.removeEventListener(egret.Event.COMPLETE,this.playComplete,this),e.removeEvent(dragonBones.EgretEvent.LOOP_COMPLETE,this.playLoopComplete,this),t.stop(i)}}},i.prototype.updateProps=function(t){var e=this.propsType;switch(e){case void 0:this.changeProps(3);break;case 3:this.changeProps(1);break;case 1:}},i.prototype.renderHouse=function(){},i.prototype.playGold=function(){},i.prototype.playFireworks=function(){},i.prototype.clickHouse=function(t,e){if(t&&gSoundMgr.playEff("smclick"),2==this.flagId||0==this.state||2==this.state||this.fastPlayed)return void this.clickInstall();switch(void 0==e&&(e=this.propsType),e){case 1:var i=this.getCurIncome();if(void 0!=i){var o=GameMgr.isVip?gConst.vipGoldScale:1;GameMgr.gold+=i*o,GameMgr.gameview.dispatchEventWith(gConst.eventType.UPDATE_GOLD,void 0,i*o),this.playMcMoney()}this.changeProps(3);break;case 2:var a=this.getCurConsume();void 0!=a&&(this.lv++,this.changeProps(3)),this.playMcLevelup();break;case 3:this.comProgress.stopLoading(),this.id==GameMgr.maxCanBuildId?(this.clickHouse(null,1),this.playGetGold()):this.changeProps(1)}GameMgr.gameview.hideGuide(),GameMgr.gameview.showGuide()},i.prototype.getCurConsume=function(){var t=this.lv;if(!(t>=GameMgr.maxLv)){var e=GameMgr.getConfig("consumes"+this.id);if(e&&!(e.length<t))return e[t-1]}},i.prototype.getCurIncome=function(){var t=this.lv,e=GameMgr.getConfig("incomes"+this.id);return!e||e.length<t?void 0:e[t-1]},i.prototype.checkMeetUpgrade=function(){if(this.gameStarted&&2!=this.propsType){var t=this.getCurConsume();void 0!=t&&(GameMgr.gold<t||(this.comProgress.stopLoading(),this.changeProps(2)))}},i.prototype.setItemOrgPos=function(t){t&&(t.orgPos={x:t.x,y:t.y},t.orgParent=t.parent,t.touchEnabled=!1,t.touchChildren=!1)},i.prototype.updateItemPos=function(t){var e=GameMgr.gameview;e&&(!t.orgPos||!t.orgParent)},i.prototype.showMoneyParticles=function(){var t=this.id;if(t!=GameMgr.maxHourseId){var e="earn",i=1e3,o=this.particleId0,a=this.conParticle0;a.visible=!0,a.alpha=1;var r=[];switch(t){case 0:r=["particle1_ui"];break;case 1:r=["particle2_ui","particle3_ui"];break;case 2:r=["particle4_ui","particle5_ui","particle6_ui"]}o=this.createParticles(a,r,e,void 0,!1),this.startParticle(o,i);var n=this.getParticle(o);if(n&&n.particleObj){var s=function(t){var e=n.particleObj[t];return e?void egret.setTimeout(function(){gTween.fadeOut(e.system,100,1)},h,i+1e3):"continue"},h=this;for(var c in n.particleObj)s(c)}}},i.prototype.initMcEff=function(t,e,i){gComMgr.setItemAnchor(t,!1,!1),t.visible=!1,e.open(),e.width=t.width,e.height=t.height,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=0,e.y=0,e.setData(i),e.gotoAndStop("work"),e.visible=!1},i.prototype.playMcMoney=function(){var t=this.mcMoney;t.visible=!0,t.removeEventListener(egret.Event.COMPLETE,this.hideMcMoney,this),t.once(egret.Event.COMPLETE,this.hideMcMoney,this),t.gotoAndPlay("work",1,1),GameMgr.isEnd||gSoundMgr.playEff("smcoin")},i.prototype.hideMcMoney=function(){var t=this.mcMoney;t.visible=!1},i.prototype.playMcLevelup=function(){var t=this.mcLevelup;t.visible=!0,t.removeEventListener(egret.Event.COMPLETE,this.hideMcLevelup,this),t.once(egret.Event.COMPLETE,this.hideMcLevelup,this),t.gotoAndPlay("work",1,1),gSoundMgr.playEff("smlevelup")},i.prototype.hideMcLevelup=function(){var t=this.mcLevelup;t.visible=!1},i.prototype.playMcBuildup=function(){var t=this.mcBuildup;t.visible=!0,t.removeEventListener(egret.Event.COMPLETE,this.hideMcBuildup,this),t.once(egret.Event.COMPLETE,this.hideMcBuildup,this),t.gotoAndPlay("work",1,1)},i.prototype.hideMcBuildup=function(){var t=this.mcBuildup;t.visible=!1},i.prototype.showStarParticles=function(){var t="star",e=500,i=this.particleId1,o=this.conEff1;o.visible=!0,o.alpha=1,void 0==i&&(i=this.particleId1=this.createParticles(o,[t],t,void 0,!1)),this.startParticle(i,e),egret.setTimeout(function(){gTween.fadeOut(o,100,1)},this,e-100)},i}(t.ComFile);t.ComHouse=e,__reflect(e.prototype,"com.ComHouse")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this.partScale=1,this.scene=t,this.init()}return t.prototype.init=function(){var t=this.scene.scaleX;this.scene.width=this.scene.width*t,this.scene.height=this.scene.height*t,this.scene.scaleX=this.scene.scaleY=1},t.prototype.setLookPot=function(t){t&&(this.lookPot||(this.lookPot={}),this.lookPot.x=t.x,this.lookPot.y=t.y)},t.prototype.upBaseScale=function(){var t=GameMgr.gameview.width/1334,e=GameMgr.gameview.height/1334;this.baseScale=Math.max(t,e)},t.prototype.checkCameraScale=function(t){var e;return void 0==t?e=1*this.partScale:(e=1*t,this.partScale=t),e},t.prototype.checkCameraPot=function(t){var e,i;if(t)e=t.x,i=t.y;else{if(!this.lookPot)return;e=this.lookPot.x,i=this.lookPot.y}return{x:e,y:i}},t.prototype.tranCameraLoc=function(t,e){if(t=this.checkCameraPot(t)){var i=this.checkCameraScale(e),o=this.scene.parent,a=o.width/2-t.x*i,r=o.height/2-t.y*i,n=o.parent||GameMgr.gameview,s=(o.width*o.scaleX-n.width)/2;if(a>s)a=s;else{var h=n.width-this.scene.width*i*o.scaleX;h>a&&(a=h)}var c=(o.height*o.scaleY-n.height)/2;if(r>c)r=c;else{var l=n.height-this.scene.height*i*o.scaleY;l>r&&(r=l)}return{x:a,y:r}}},t.prototype.upCamera=function(t,e,i,o,a){void 0===t&&(t=!0);for(var r=[],n=5;n<arguments.length;n++)r[n-5]=arguments[n];if(e=this.checkCameraPot(e)){this.setLookPot(e);var s=this.checkCameraScale(i);this.upBaseScale();var h=this.tranCameraLoc(e,i);t?gTween.tween(this.scene,void 0,{props:{x:h.x,y:h.y,scaleX:s,scaleY:s},duration:500,call:{callback:function(){o&&o.call.apply(o,[a].concat(r))}}}):(this.scene.x=h.x,this.scene.y=h.y,this.scene.scaleX=s,this.scene.scaleY=s)}},t}();t.CameraMgr=e,__reflect(e.prototype,"util.CameraMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.getRectangleVerPoints=function(t){var e=t.anchorOffsetX,i=t.anchorOffsetY,o=t.matrix,a=o.a,r=o.b,n=o.c,s=o.d,h=o.tx,c=o.ty,l=t.width,p=t.height,d=-e,u=-i,f=l-e,g=-i,v=l-e,y=p-i,m=-e,T=p-i,w={x:h+a*d+n*u,y:c+r*d+s*u},b={x:h+a*f+n*g,y:c+r*f+s*g},_={x:h+a*v+n*y,y:c+r*v+s*y},E={x:h+a*m+n*T,y:c+r*m+s*T};return[w,b,_,E]},t.TestCircleAndPolygon=function(e,i,o,a){for(var r=0;r<a.length;r++){var n=a[r],s=void 0,h=void 0;s=r!=a.length-1?a[r+1]:a[0],h=t.get2PointVec(n,s,!1);var c=t.getSideNorml(h,!1),l=t.calcProj(c,a),p=t.dot([e,i],t.normalize(c)),d=t.segDist(l.min,l.max,p-o,p+o);if(!d)return!1}return!0},t.checkPolygon=function(e,i){var o=function(e,i,o){for(var a=0;a<e.length;a++){var r=e[a],n=void 0,s=void 0;n=a!=e.length-1?e[a+1]:e[0],s=t.get2PointVec(r,n,!1);var h=t.getSideNorml(s,!1),c=t.calcProj(h,i),l=t.calcProj(h,o),p=t.segDist(c.min,c.max,l.min,l.max);if(!p)return!1}return!0};return o(e,e,i)&&o(i,e,i)?!0:!1},t.checktObjPolygon=function(t,e){var i=this.getRectangleVerPoints(t),o=this.getRectangleVerPoints(e);return i=this.switchGlobalPoint(t,i),o=this.switchGlobalPoint(e,o),this.checkPolygon(i,o)},t.switchGlobalPoint=function(t,e){for(var i,o=0;o<e.length;o++){var a=e[o];i=gComMgr.toGlobal(t,a.x,a.y,i),i&&(e[o].x=i.x,e[o].y=i.y)}return e},t.calcProj=function(e,i){for(var o=0,a=0,r=0;r<i.length;r++){var n=[i[r].x,i[r].y],s=t.dot(n,t.normalize(e));0==o||0==a?o=a=s:(o=o>s?s:o,a=s>a?s:a)}return{min:o,max:a}},t.segDist=function(t,e,i,o){return i>t?e>i&&o>t:o>t&&e>i},t.get2PointVec=function(e,i,o){void 0===o&&(o=!0);var a=i.x-e.x,r=i.y-e.y;return o?t.normalize([a,r]):[a,r]},t.getSideNorml=function(e,i){void 0===i&&(i=!0);var o=e[0],a=e[1];return i&&t.normalize([-a,o]),[-a,o]},t.normalize=function(t){if(2!=t.length)return console.error("只能标准化2d向量"),t;var e=t[0],i=t[1],o=Math.sqrt(e*e+i*i);return[e/o,i/o]},t.dot=function(t,e){return 2!=t.length||2!=e.length?(console.error("只能计算2d向量的点积"),null):t[0]*e[0]+t[1]*e[1]},t}();t.CollisionUitls=e,__reflect(e.prototype,"util.CollisionUitls")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComItem,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.touchChildren=!1,this.initS=this.con.scaleX},e.prototype.start=function(){this.initHead()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.initHead=function(){this.item.visible=!1},e.prototype.bright=function(){var t=4,e=200,i=this.con,o=i.rotation;gTween.tween(i,void 0,{props:{rotation:o+t},duration:e,call:{callback:function(){gTween.tween(i,void 0,{props:{rotation:o-2*t},duration:2*e,call:{callback:function(){gTween.tween(i,void 0,{props:{rotation:o},duration:e})}}})}}}),gTween.fadeIn(this.item,100)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e}(t.ComFile);t.ComItem=e,__reflect(e.prototype,"com.ComItem")}(com||(com={}));var com;!function(t){var e=function(){function t(){}return t.prototype.setData=function(t,e,i,o,a){void 0===o&&(o="Armature"),this.parent=t,this.resName=e,i&&(this.exitAim={},"boolean"==typeof i&&(i={}),this.exitAim.aimType=void 0!=i.aimType?i.aimType:0,this.exitAim.wait=void 0!=i.wait?i.wait:0,this.exitAim.time=void 0!=i.time?i.time:300),this.armatureName=o,this.dragonBonesName=a},t.prototype.play=function(t,e,i){return void 0===t&&(t="Armature"),void 0===e&&(e=1),this.isComRemve=i,this.init()?(this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.addEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.animation.play(t,e)):void 0},t.prototype.stop=function(t){this.init()&&this.armatureDisplay.animation.stop(t)},t.prototype.gotoAndStop=function(t,e){this.init()&&this.armatureDisplay.animation.gotoAndStop(t,e)},t.prototype.gotoAndStopByTime=function(t,e){return this.init()?this.armatureDisplay.animation.gotoAndStopByTime(t,e):void 0},t.prototype.setScale=function(t,e){if(void 0!=t){if(t=t||0,e=e||t,!this.armatureDisplay)return void(this.waitScale={x:t,y:e});this.armatureDisplay.scaleX=t,this.armatureDisplay.scaleY=e,this.waitScale=null}},t.prototype.setPos=function(t){t&&(t.x=t.x||0,t.y=t.y||0,this.waitPos={x:t.x,y:t.y},this.armatureDisplay&&(this.armatureDisplay.x=t.x,this.armatureDisplay.y=t.y))},t.prototype.setInitPos=function(t){t&&(t.x=t.x||0,t.y=t.y||0,this.initPos={x:t.x,y:t.y})},t.prototype.setDiffPos=function(t){t&&(t.hor.x=t.hor.x||0,t.hor.y=t.hor.y||0,t.ver.x=t.ver.x||0,t.ver.y=t.ver.y||0,this.diffPos=t)},t.prototype.setIndex=function(t){return void 0!=t?(t=t||0,this.parent&&this.armatureDisplay?void this.parent.setChildIndex(this.armatureDisplay,t):void(this.waitIndex=t)):void 0},t.prototype.setMask=function(t){this.armatureDisplay&&(this.armatureDisplay.mask=t)},t.prototype.setAlpha=function(t){if(void 0!=t){if(!this.parent||!this.armatureDisplay)return void(this.orgAlpha=t);this.orgAlpha=t,this.armatureDisplay.alpha=t}},t.prototype.show=function(){this.armatureDisplay&&(this.armatureDisplay.visible=!0)},t.prototype.hide=function(){this.armatureDisplay&&(this.armatureDisplay.visible=!1)},t.prototype.playComplete=function(){this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.exitAim?this.playOutAim():(this.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),this.isComRemve&&this.remove())},t.prototype.playOutAim=function(){var t,e=this;switch(this.exitAim.aimType){case 0:t={alpha:0};break;case 1:t={scaleX:5,scaleY:5,alpha:0};break;case 2:t={scaleX:0,scaleY:0,alpha:0}}egret.setTimeout(function(){gTween.tween(e.armatureDisplay,void 0,{props:t,duration:e.exitAim.time,call:{callback:function(){e.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),e.isComRemve&&e.remove()},thisObj:e}})},this,this.exitAim.wait)},t.prototype.remove=function(){gComMgr.rmObj(this.armatureDisplay)},t.prototype.create=function(){if(this.resName){var t=RES.getRes(this.resName+"_ske_json"),e=RES.getRes(this.resName+"_tex_json"),i=RES.getRes(this.resName+"_tex_png");return this.factory=new dragonBones.EgretFactory,this.factory.autoSearch=!0,this.factory.addDragonBonesData(this.factory.parseDragonBonesData(t)),this.factory.addTextureAtlasData(this.factory.parseTextureAtlasData(e,i)),this.armature=this.factory.buildArmature(this.armatureName),this.armatureDisplay=this.factory.buildArmatureDisplay(this.armatureName),this.armatureDisplay}},t.prototype.init=function(){return(this.armatureDisplay||(this.create(),this.armatureDisplay))&&this.parent?(this.parent.addChild(this.armatureDisplay),this.waitScale&&this.setScale(this.waitScale.x,this.waitScale.y),this.waitPos?this.setPos(this.waitPos):this.setPos({x:this.parent.width/2,y:this.parent.height/2}),this.setIndex(this.waitIndex),this.setAlpha(this.orgAlpha||this.armatureDisplay.alpha),this.show(),!0):void 0},t.prototype.replaceDisplay=function(t,e,i,o,a,r,n){this.factory.parseDragonBonesData(RES.getRes(t+"_ske_json")),this.factory.parseTextureAtlasData(RES.getRes(t+"_tex_json"),RES.getRes(t+"_tex_png"));var s=this.armatureDisplay.armature.getSlot(r);this.factory.replaceSlotDisplay(e,i,o,a,s,n)},t.prototype.dispose=function(){var t=this.armature;dragonBones.WorldClock.clock.remove(t),this.remove(),t.dispose()},t.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},t.prototype.screenType=function(t){return void 0==t?this._screenType:void(this._screenType=t)},t.prototype.getWidth=function(){return this.armatureDisplay?this.armatureDisplay.width:void 0},t.prototype.getHeight=function(){return this.armatureDisplay?this.armatureDisplay.height:void 0},t}();t.ComBones=e,__reflect(e.prototype,"com.ComBones")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this._floatPool=[],this._curAllFloats=[],this.con=t}return t.prototype.update=function(t){this.addFloat(),this.checkFloat(),this.moveFloat()},t.prototype.show=function(t){this.data||(this.data=new data.FloatData),this.data.setData(t),this.isShowed=!0,egret.startTick(this.update,this)},t.prototype.updateData=function(t,e){void 0===e&&(e=!0),this.data||(this.data=new data.FloatData),this.data.updateData(t,e)},t.prototype.hide=function(t){if(void 0===t&&(t=!0),egret.stopTick(this.update,this),this.isShowed=!1,t)for(var e=0,i=this._curAllFloats,o=i.length>e?i[e]:null;o;)this.removeFloat(o),o=i.length>e?i[e]:null},t.prototype.addFloat=function(){if(!(this._curAllFloats.length>=this.data.floatMaxCnt)){var t;t=this._floatPool&&this._floatPool.length>0?this._floatPool.pop():new com.ComFloat,this.con.addChildAt(t,0),t.open(this.data);var e=gMath.getRandomAnswer.apply(gMath,this.data.dires);t.dire(e);var i=t.anchorOffsetX,o=t.anchorOffsetY,a=this.con.width,r=this.con.height;switch(e){case gConst.direction.CENTER_TOP:t.x=gMath.getRandomInteger(a+i,-i),t.y=-o;break;case gConst.direction.CENTER_BOTTOM:t.x=gMath.getRandomInteger(a+i,-i),t.y=r+o;break;case gConst.direction.LEFT_CENTER:t.x=-i,t.y=gMath.getRandomInteger(r+o,-o);break;case gConst.direction.RIGHT_CENTER:t.x=a+i,t.y=gMath.getRandomInteger(r+o,-o)}this._curAllFloats.push(t)}},t.prototype.removeFloat=function(t){gTween.rmTweens(t),gComMgr.rmObj(t),gDevelop.arrDelVal(this._curAllFloats,t),this._floatPool.push(t)},t.prototype.checkFloat=function(){for(var t=this.con.width,e=this.con.height,i=10,o=0;o<this._curAllFloats.length;){var a=this._curAllFloats[o],r=a.anchorOffsetX,n=a.anchorOffsetY,s=void 0,h=a.dire();switch(h){case gConst.direction.CENTER_TOP:s=a.y>=e+n+i;break;case gConst.direction.CENTER_BOTTOM:s=a.y<=-n-i;break;case gConst.direction.LEFT_CENTER:s=a.x>=t+r+i;break;case gConst.direction.RIGHT_CENTER:s=a.x<=-r-i}s?(a.die(null),a.destroy(),this._curAllFloats.splice(o,1),this._floatPool.push(a)):o++}},t.prototype.moveFloat=function(){for(var t=3,e=function(e,i,o){e>t?gTween.toMoveX(i,o,60):i.x=o},i=function(e,i,o){e>t?gTween.toMoveY(i,o,60):i.y=o},o=0,a=this._curAllFloats;o<a.length;o++){var r=a[o];if(!r.die()){var n=r.speed(),s=void 0,h=r.dire();switch(h){case gConst.direction.CENTER_TOP:s=r.y+n,i.call(this,n,r,s);break;case gConst.direction.CENTER_BOTTOM:s=r.y-n,i.call(this,n,r,s);break;case gConst.direction.LEFT_CENTER:s=r.x+n,e.call(this,n,r,s);break;case gConst.direction.RIGHT_CENTER:s=r.x-n,e.call(this,n,r,s)}}}},t}();t.FloatMgr=e,__reflect(e.prototype,"util.FloatMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.blendMode=egret.BlendMode.ERASE,e.cirleLight=new egret.Shape,e.cirleLight.blendMode=egret.BlendMode.ERASE,e.addChild(e.cirleLight),e}return __extends(e,t),e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setLightSize=function(t,e,i,o,a){void 0===e&&(e=0),void 0===i&&(i=t),this.cirleLight.graphics.clear(),this.cirleLight.graphics.beginFill(0),1==e?this.cirleLight.graphics.drawRoundRect(0,0,t,i,o,a):this.cirleLight.graphics.drawCircle(0,0,t),this.cirleLight.graphics.endFill(),this.show()},e.prototype.setLightPos=function(t,e){this.cirleLight.x=t,this.cirleLight.y=e},e.prototype.setMaskSize=function(t,e,i){void 0===i&&(i=1),this.graphics.clear(),this.graphics.beginFill(0,i),this.graphics.drawRect(0,0,t,e),this.graphics.endFill()},e}(egret.Sprite);t.ComLightMask=e,__reflect(e.prototype,"com.ComLightMask")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.interval=40,e.playTime=-1,e.isplay=!1,e.backToFirst=!0,e.isReverse=!1,e.skinName=skins.ComEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.bm=new eui.Image,this.addChild(this.bm)},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setData=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.list=t,this.bm.anchorOffsetX=e,this.bm.anchorOffsetY=i},e.prototype.frameCnt=function(){return this.currentData.order&&this.currentData.order.length>0?this.currentData.order.length:this.currentData.frameCnt},e.prototype.getCurIndex=function(){return this.frameIndex},e.prototype.getFrameIndexCnt=function(){return this.currentData.order&&this.currentData.order.length>0?this.currentData.order[this.frameIndex-1]:this.frameIndex+this.currentData.firstIndex-1},e.prototype.getFrameIndexName=function(){var t=this.getFrameIndexCnt();return gMath.switchNum(t,!1,this.currentData.minBit)},e.prototype.picName=function(){var t=this.currentData.frameName.indexOf("{1}");return t>-1?this.currentData.frameName.replace("{1}",this.getFrameIndexName()):this.currentData.frameName},e.prototype.pixelHitTest=function(t){this.bm.pixelHitTest=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=1),this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this)),this.currentFrameName=t,this.currentData=this.getMcDataByAction(t),this.frameIndex=e,this.currentData&&(this.bm.source=this.picName())},e.prototype.dispose=function(){this.pause(),this.parent&&this.parent.removeChild(this),this.removeChildren(),this.list=null},e.prototype.gotoAndReverse=function(t,e){void 0===e&&(e=-1),this.isReverse=!0,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData&&(this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=-1,this.frameIndex=this.frameCnt(),this.bm.source=this.picName(),this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)))},e.prototype.gotoAndPlay=function(t,e,i,o){void 0===e&&(e=-1),void 0===i&&(i=1),void 0===o&&(o=!0),this.isReverse=!1,this.currentFrameName=t,this.playTime=e,this.backToFirst=o,this.currentData=this.getMcDataByAction(t),this.currentData&&(this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=1,this.frameIndex=i,this.bm.source=this.picName(),this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)))},e.prototype._update=function(t){egret.getTimer()>=this.nextUpdateTime&&this.updateFrame()},e.prototype.updateFrame=function(){this.nextUpdateTime=egret.getTimer()+this.interval,this.dispatchEventWith(gConst.eventType.ONE_STEP_COMPLETE),this.isReverse&&this.frameIndex<1&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE)),this.bm.source=this.picName(),this.frameIndex+=this.currentData.direct,this.frameIndex>this.frameCnt()?(1==this.currentData.direct&&this.currentData.backplay?(this.frameIndex-=2,this.currentData.direct=-1):this.backToFirst?this.frameIndex=1:this.frameIndex--,-1==this.playTime?this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE):(!this.currentData.backplay||this.currentData.backplay&&this.isReverse)&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE)))):this.frameIndex<1&&(-1==this.currentData.direct&&this.currentData.backplay&&(this.frameIndex+=2,this.currentData.direct=1),this.currentData.backplay&&!this.isReverse&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE))))
},e.prototype.pause=function(){this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this))},e.prototype.getMcDataByAction=function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].fName==t)return this.list[e];return null},e}(t.ComFileBase);t.ComMovieClip=e,__reflect(e.prototype,"com.ComMovieClip")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this.main=t}return Object.defineProperty(t.prototype,"particles",{get:function(){return this._particles},set:function(t){this._particles=t},enumerable:!0,configurable:!0}),t.prototype.getParticle=function(t){if(void 0!=t){var e=this.particles;if(e){var i=e[t];return i||(i={id:Number(t)}),i}}},t.prototype.createParticles=function(t,e,i,o,a,r,n){void 0===a&&(a=!0),void 0===r&&(r=0),void 0===n&&(n=0),this.particles||(this.particles={});var s=gAutoId.id,h=this.getParticle(s);if(h&&t&&e&&i){h.parent=t,h.resName=e,h.cfgName=i,void 0==o&&(o=t.numChildren),h.idx=o,this.particles[s]=h;for(var c=0;c<e.length;c++){var l=this.createParticle(s,e[c],i,c,a);this.updataParticleEmitter(t,l),this.setParticleIndex(l,o),this.setParticlePos(l,r,n)}return s}},t.prototype.startParticles=function(t){var e=this.particles;if(e)for(var i in e)this.startParticle(i,t)},t.prototype.startParticle=function(t,e){if(void 0!=t){var i=this.getParticle(t);if(i){var o=i.particleObj;if(o)for(var a in o)o[a].start(e)}}},t.prototype.stopParticles=function(t){var e=this.particles;if(e)for(var i in e)this.stopParticle(i,t)},t.prototype.stopParticle=function(t,e){if(void 0!=t){var i=this.getParticle(t);if(i){var o=i.particleObj;if(o)for(var a in o)o[a].stop(e)}}},t.prototype.setParticlesIndex=function(t){var e=this.particles;if(e)for(var i in e){var o=this.getParticle(i),a=o.particleObj;if(a)for(var r in a)this.setParticleIndex(a[r],t)}},t.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.particles;if(i)for(var o in i){var a=this.getParticle(o),r=a.particleObj;if(r)for(var n in r)this.setParticlePos(r[n],t,e)}},t.prototype.updataParticlesEmitter=function(){var t=this.particles;if(t)for(var e in t){var i=this.getParticle(e),o=i.particleObj;if(o)for(var a in o)this.updataParticleEmitter(i.parent,o[a])}},t.prototype.setMaxParticles=function(t,e){if(void 0!=t){var i=this.getParticle(t);if(i){var o=i.particleObj;if(o)for(var a in o)o[a].setMaxParticle(e)}}},t.prototype.updataParticleEmitter=function(t,e){e&&t&&e.updateEmitterX(t.width/2)},t.prototype.setParticleIndex=function(t,e){t&&t.setIndex(e)},t.prototype.setParticlePos=function(t,e,i){t&&t.setPos(e,i)},t.prototype.setMaxParticle=function(t,e){t&&t.setMaxParticle(e)},t.prototype.createParticle=function(t,e,i,o,a){var r=this.getParticle(t);if(r){r.particleObj||(r.particleObj={});var n=this.retParticle(r.parent,r.particleObj[o],e,i,a);return r.particleObj[o]=n,n}},t.prototype.retParticle=function(t,e,i,o,a){return t&&i&&o?(e||(e=new com.ComParticle,e.setData(t,i,o),a&&e.start()),e):void 0},t}();t.ParticleMgr=e,__reflect(e.prototype,"util.ParticleMgr")}(util||(util={}));var com;!function(t){var e=function(){function t(){}return t.prototype.create=function(){if(!this.system){var t=RES.getRes(this.resName+"_png"),e=RES.getRes(this.cfgName+"_json");this.system=new particle.GravityParticleSystem(t,e),this.system.touchEnabled=!1,this.setPos()}this.parent.addChild(this.system)},t.prototype.setData=function(t,e,i){this.parent=t,this.resName=e,this.cfgName=i||e,this.create()},t.prototype.start=function(t){this.system.start(t)},t.prototype.stop=function(t){this.system.stop(t)},t.prototype.change=function(t){this.resName=t;var e=RES.getRes(this.resName+"_png");this.system.changeTexture(e)},t.prototype.setIndex=function(t){this.system&&this.system.parent&&this.system.parent.setChildIndex(this.system,t)},t.prototype.setPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.system.x=t,this.system.y=e},t.prototype.setMaxParticle=function(t){this.system.maxParticles=t},t.prototype.setScale=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.system.scaleX=t,this.system.scaleY=e},t.prototype.setRotation=function(t){void 0===t&&(t=0),this.system.rotation=t},t.prototype.updateEmitterX=function(t){this.system.emitterX=t},t.prototype.updateEmitterY=function(t){this.system.emitterY=t},t}();t.ComParticle=e,__reflect(e.prototype,"com.ComParticle")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.rangeX=300,e.rangeY=0,e.goalX=0,e.goalY=0,e.textureName="",e.liziWidth=0,e.liziHeight=0,e.liziScale=1,e.zhongliY=0,e.speedY=1,e.speedRangeY=1,e.speedX=2,e.speedRangeX=2,e.life=1e4,e.createtime=100,e.lizinum=2,e.touchEnabled=e.touchChildren=!1,e}return __extends(e,t),e.prototype.setData=function(t,e,i,o,a,r,n,s,h,c,l,p,d,u,f,g){void 0===h&&(h=0),void 0===c&&(c=2),void 0===l&&(l=1),void 0===p&&(p=2),void 0===d&&(d=2),void 0===u&&(u=1e4),void 0===f&&(f=100),void 0===g&&(g=2),this.lizinum=g,this.rangeX=t,this.rangeY=e,this.goalX=i,this.goalY=o,this.textureName=a,this.liziWidth=r,this.liziHeight=n,this.liziScale=s,this.zhongliY=h,this.speedY=c,this.speedRangeY=l,this.speedX=p,this.speedRangeX=d,this.life=u,this.createtime=f},e.prototype.start=function(){for(var t=0;t<this.lizinum;t++){var e=new i(this.goalX,this.goalY,this.textureName,this.liziWidth,this.liziHeight,this.liziScale,this.zhongliY,this.speedY,this.speedRangeY,this.speedX,this.speedRangeX,this.life);this.addChild(e),e.x=-this.rangeX/2+this.rangeX/2*Math.random(),e.y=-this.rangeY/2+this.rangeY/2*Math.random()}},e}(egret.Sprite);t.ComParticleImitate=e,__reflect(e.prototype,"com.ComParticleImitate");var i=function(t){function e(e,i,o,a,r,n,s,h,c,l,p,d){void 0===s&&(s=0),void 0===h&&(h=1),void 0===c&&(c=1),void 0===l&&(l=1),void 0===p&&(p=1);var u=t.call(this)||this;return u.rangeX=0,u.rangeY=0,u.goalX=0,u.goalY=0,u.zl=0,u.goalX=e,u.goalY=i,u.source=o,u.width=a,u.height=r,u.scaleX=u.scaleY=n-.01+.01*Math.random(),u.speedY=Math.random()*c+h,u.speedX=Math.random()*p+l,u.zl=s,u.life=d,u.addEventListener(egret.Event.ENTER_FRAME,u.update,u),u.createTime=egret.getTimer(),u}return __extends(e,t),e.prototype.play=function(){var t=this;egret.Tween.get(this).to({x:this.goalX,y:this.goalY},2*this.life/5).call(function(){t.parent.removeChild(t),egret.Tween.removeTweens(t)},this)},e.prototype.update=function(){this.alpha-=.01,this.y+=this.speedY,this.x+=this.speedX,egret.getTimer()-this.createTime>=3*this.life/5&&(this.play(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this)),this.speedY+=this.zl},e}(eui.Image);__reflect(i.prototype,"FlyObj")}(com||(com={}));var util;!function(t){var e=function(){function t(){this.count=0,this.timer=new egret.Timer(1e3)}return t.prototype.shakeObj=function(t,e,i,o,a,r,n){this.target=t,gTween.rmTweens(this.target),void 0!=r&&(t.x=r),void 0!=n&&(t.y=n),this.initX=t.x,this.initY=t.y,this.maxDisX=o,this.maxDisY=a,this.count=e/1e3*i,this.rate=i,this.timer.delay=1e3/i,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},t.prototype.shaking=function(){this.target.x=this.initX-this.maxDisX+Math.random()*this.maxDisX*2,this.target.y=this.initY-this.maxDisY+Math.random()*this.maxDisY*2,gTween.tween(this.target,void 0,{props:{x:this.initX,y:this.initY},duration:999/this.rate})},t.prototype.shakeComplete=function(){this.target&&(gTween.rmTweens(this.target),this.target.x=this.initX,this.target.y=this.initY),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.target.dispatchEventWith(egret.Event.COMPLETE)},t.prototype.stop=function(){this.shakeComplete()},t}();t.ShakeTool=e,__reflect(e.prototype,"util.ShakeTool")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.moveCount=0,e.hasThrow=!1,e.prePointX=-1,e.prePointY=-1,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.touchEnabled=this.touchChildren=!1},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.addScar,this),GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.moveEnd,this)},e.prototype.removeEvent=function(){GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.addScar,this),GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.moveEnd,this)},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.addScar=function(t){if(!this.touchPointID||this.touchPointID==t.touchPointID){this.touchPointID=t.touchPointID,this.moveCount++,!this.hasThrow&&this.moveCount>10&&(this.hasThrow=!0);var e=t.stageX,i=t.stageY;if(this.prePointX>0&&this.prePointY>0){var o=Math.floor(Math.sqrt((this.prePointY-i)*(this.prePointY-i)+(this.prePointX-e)*(this.prePointX-e))),a=57.3*Math.atan((i-this.prePointY)/(e-this.prePointX));this.prePointX<=e&&(o*=-1);var r=new egret.Shape,n=30;r.graphics.lineStyle(n,16777215),r.graphics.moveTo(0,0),r.graphics.lineTo(o,0),r.graphics.endFill(),this.addChild(r),r.x=e,r.y=i,r.anchorOffsetX=4.5,r.rotation=a,gTween.tween(r,void 0,{props:{scaleY:0},duration:300,call:{callback:function(){r=gComMgr.rmObj(r)}}})}this.prePointX=e,this.prePointY=i}},e.prototype.moveEnd=function(t){this.touchPointID=null,this.prePointX=-1,this.prePointY=-1,this.moveCount=0,this.hasThrow=!1},e}(t.ComFile);t.ComScar=e,__reflect(e.prototype,"com.ComScar")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this._starPool=[],this._curAllStar=[],this.con=t}return t.prototype.update=function(t){this.addStar()},t.prototype.show=function(t,e){this.updateData(t,e),this.intervalMax=void 0!=this.intervalMax?this.intervalMax:300,this.intervalMin=void 0!=this.intervalMin?this.intervalMin:100,this.scaleMax=void 0!=this.scaleMax?this.scaleMax:1,this.scaleMin=void 0!=this.scaleMin?this.scaleMin:.3,this.isShowed=!0,this.addStar(),this.updateNextShow(),egret.startTick(this.update,this)},t.prototype.updateData=function(t,e){t&&(this.starAnswers=t),e&&(void 0!=e.intervalMax&&(this.intervalMax=e.intervalMax),void 0!=e.intervalMin&&(this.intervalMin=e.intervalMin),void 0!=e.scaleMax&&(this.scaleMax=e.scaleMax),void 0!=e.scaleMin&&(this.scaleMin=e.scaleMin),void 0!=e.isRotate&&(this.isRotate=e.isRotate),void 0!=e.isAdaptiveScale&&(this.isAdaptiveScale=e.isAdaptiveScale),void 0!=e.starMaxCnt&&(this.starMaxCnt=e.starMaxCnt))},t.prototype.hide=function(t){if(void 0===t&&(t=!0),egret.stopTick(this.update,this),this.isShowed=!1,t)for(var e=0,i=this._curAllStar,o=i.length>e?i[e]:null;o;)this.removeStar(o),o=i.length>e?i[e]:null},t.prototype.updateNextShow=function(){var t=this.intervalMax,e=this.intervalMin;1==GameMgr.screenType&&(t=Math.floor(.9*t),e=Math.floor(.9*e)),this.nextShowStar=egret.getTimer()+gMath.getRandomInteger(t,e)},t.prototype.createStar=function(t){var e;return this._starPool&&this._starPool.length>0?(e=this._starPool.shift(),e.source=t):e=new eui.Image(t),e},t.prototype.removeStar=function(t){gTween.rmTweens(t),egret.clearTimeout(t.hideDelay),gComMgr.rmObj(t),gDevelop.arrDelVal(this._curAllStar,t),this._starPool.push(t)},t.prototype.addStar=function(){var t=this;if(this.isShowed&&!(this.nextShowStar>=egret.getTimer()||(this.updateNextShow(),void 0!=this.starMaxCnt&&this.starMaxCnt<=this._curAllStar.length))){var e=gMath.getRandomAnswer.apply(gMath,this.starAnswers),i=this.createStar(e);gComMgr.setObjAnchor(i),i.visible=!1;var o=function(){i.alpha=0,i.scaleX=i.scaleY=0,i.visible=!0;var e=gMath.getRandom(t.scaleMax,t.scaleMin)/(t.isAdaptiveScale&&t.con.parent?t.con.parent.scaleX:1),o=gMath.getRandomInteger(150,50);if(egret.Tween.get(i).to({scaleX:e,scaleY:e,alpha:1},o).call(function(){var t=gMath.getRandomInteger(800,300),e=gMath.getRandom(.6,.2);egret.Tween.get(i,{loop:!0}).to({alpha:e},t).to({alpha:1},t)}),t.isRotate){var a=gMath.getRandomInteger(3e3,1200);egret.Tween.get(i,{loop:!0}).to({rotation:360},a)}var r=gMath.getRandomInteger(2500,1e3),n=gMath.getRandomInteger(500,300);i.hideDelay=egret.setTimeout(function(){egret.Tween.get(i).to({scaleX:0,scaleY:0,alpha:0},n).call(function(){t.removeStar(i)})},t,r)},a=function(e){e.x=gMath.getRandomInteger(t.con.width),e.y=gMath.getRandomInteger(t.con.height),o.call(t)};a.call(this,i),this.con.addChild(i),this._curAllStar.push(i)}},t}();t.StarMgr=e,__reflect(e.prototype,"util.StarMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t}();t.StartMgr=e,__reflect(e.prototype,"util.StartMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.itemIdArr=[],e.skinName=skins.ComPanel,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.touchChildren=!1,this.bar.maximum=1e3*GameMgr.getConfig("countdown"),gComMgr.setObjAnchor(this.bg)},e.prototype.start=function(){this.barVal=0,this.headCnt=0,this.initItems()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e,1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){var e=this.con,i=this.bg,o=this.conItems,a=this.conBar,r=this.bar;if(1==GameMgr.screenType){e.width=i.width,e.height=i.height,i.rotation=0,i.scaleX=1,i.x=i.anchorOffsetX,i.y=i.anchorOffsetY;var n=this.hLayout;n||(n=this.hLayout=new eui.HorizontalLayout,n.gap=-4,n.horizontalAlign=egret.HorizontalAlign.CENTER,n.verticalAlign=egret.VerticalAlign.MIDDLE),o.layout=n,o.right=0/0,o.verticalCenter=0/0,o.top=28,o.horizontalCenter=12,a.width=545,a.height=80,a.left=0/0,a.verticalCenter=0/0,a.bottom=24,a.horizontalCenter=-2,r.rotation=0,r.scaleX=1,r.x=275,r.y=50}else{e.width=i.height,e.height=i.width,i.rotation=-90,i.scaleX=-1,i.x=i.anchorOffsetY,i.y=i.anchorOffsetX;var s=this.vLayout;s||(s=this.vLayout=new eui.VerticalLayout,s.gap=22,s.horizontalAlign=egret.HorizontalAlign.CENTER,s.verticalAlign=egret.VerticalAlign.MIDDLE),o.layout=s,o.top=0/0,o.horizontalCenter=0/0,o.right=20,o.verticalCenter=0,a.width=58,a.height=550,a.bottom=0/0,a.horizontalCenter=0/0,a.left=32,a.verticalCenter=-8,r.rotation=-90,r.scaleX=-1,r.x=25,r.y=280}},e.prototype.initItems=function(){for(var t=0,e=this["item"+t];e;)e.open(),t++,e=this["item"+t]},e.prototype.startBar=function(){var t=this.bar.maximum;gTween.tween(this.bar,void 0,{props:{value:t},duration:t,call:{callback:function(){GameMgr.endType=0,GameMgr.gameview.openEndFail()}}})},e.prototype.stopBar=function(){gTween.rmTweens(this.bar)},Object.defineProperty(e.prototype,"barVal",{get:function(){return this._barVal},set:function(t){t>gConst.barMaxVal||(this._barVal=t,this.updateBar())},enumerable:!0,configurable:!0}),e.prototype.updateBar=function(){var t=this.barVal;this.bar.value=t;var e=gConst.barMaxVal,i=this.headCnt,o=Math.floor(e/3);i>=2?t>=e&&this.headCnt++:t>=o*(i+1)&&this.headCnt++},Object.defineProperty(e.prototype,"headCnt",{get:function(){return this._headCnt},set:function(t){t>3||(this._headCnt=t,this.updateHead())},enumerable:!0,configurable:!0}),e.prototype.updateHead=function(){var t=this,e=this.headCnt,i=function(e){return t["item"+e]};if(0>=e)for(var o=0,a=i.call(this,o);a;)a.finish(!1),a.initHead(),o++,a=i.call(this,o);else for(var o=0;e>o;o++){var a=i.call(this,o);a&&(a.finish()||(a.finish(!0),a.bright()))}},e}(t.ComFile);t.ComPanel=e,__reflect(e.prototype,"com.ComPanel")}(com||(com={}));var gUiMgr=new util.UiMgr,gAutoId=new util.AutoId,gComMgr=new util.ComMgr,gGuideMgr=new util.GuideMgr,gSoundMgr=new util.SoundMgr,gTween=new util.TweenMgr,gMath=new util.MathMgr,gScreenMovies=new util.ScreenMovies,gDevelop=new util.DevelopMgr,gPeople=new util.PeopleMgr;